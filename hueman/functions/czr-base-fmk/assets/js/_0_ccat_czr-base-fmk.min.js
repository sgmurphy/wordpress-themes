/*! iCheck v1.0.1 by Damir Sultanov, http://git.io/arlzeA, MIT Licensed */ "function"!=typeof jQuery.fn.iCheck&&function(e){function t(e,t,r){var o=e[0],s=/er/.test(r)?m:/bl/.test(r)?h:u,a=r==g?{checked:o[u],disabled:o[h],indeterminate:"true"==e.attr(m)||"false"==e.attr(f)}:o[s];if(/^(ch|di|in)/.test(r)&&!a)i(e,s);else if(/^(un|en|de)/.test(r)&&a)n(e,s);else if(r==g)for(s in a)a[s]?i(e,s,!0):n(e,s,!0);else t&&"toggle"!=r||(t||e[C]("ifClicked"),a?o[v]!==d&&n(e,s):i(e,s))}function i(t,i,r){var g=t[0],C=t.parent(),w=i==u,M=i==m,I=M?f:w?p:"enabled",x=o(t,I+s(g[v])),S=o(t,i+s(g[v]));if(!0!==g[i]){if(!r&&i==u&&g[v]==d&&g.name){var R=t.closest("form"),A='input[name="'+g.name+'"]',A=R.length?R.find(A):e(A);A.each(function(){this!==g&&e(this).data(l)&&n(e(this),i)})}M?(g[i]=!0,g[u]&&n(t,u,"force")):(r||(g[i]=!0),w&&g[m]&&n(t,m,!1)),a(t,w,i,r)}g[h]&&o(t,z,!0)&&C.find("."+c).css(z,"default"),C[y](S||o(t,i)||""),i==h?C.attr("aria-disabled","true"):C.attr("aria-checked",M?"mixed":"true"),C[b](x||o(t,I)||"")}function n(e,t,i){var n=e[0],r=e.parent(),l=t==u,d=t==m,g=d?f:l?p:"enabled",C=o(e,g+s(n[v])),w=o(e,t+s(n[v]));!1!==n[t]&&((d||!i||"force"==i)&&(n[t]=!1),a(e,l,g,i)),!n[h]&&o(e,z,!0)&&r.find("."+c).css(z,"pointer"),r[b](w||o(e,t)||""),t==h?r.attr("aria-disabled","false"):r.attr("aria-checked","false"),r[y](C||o(e,g)||"")}function r(t,i){t.data(l)&&(t.parent().html(t.attr("style",t.data(l).s||"")),i&&t[C](i),t.off(".i").unwrap(),e(w+'[for="'+t[0].id+'"]').add(t.closest(w)).off(".i"))}function o(e,t,i){return e.data(l)?e.data(l).o[t+(i?"":"Class")]:void 0}function s(e){return e.charAt(0).toUpperCase()+e.slice(1)}function a(e,t,i,n){n||(t&&e[C]("ifToggled"),e[C]("ifChanged")[C]("if"+s(i)))}var l="iCheck",c=l+"-helper",d="radio",u="checked",p="un"+u,h="disabled",f="determinate",m="in"+f,g="update",v="type",y="addClass",b="removeClass",C="trigger",w="label",z="cursor",M=/ipad|iphone|ipod|android|blackberry|windows phone|opera mini|silk/i.test(navigator.userAgent);e.fn[l]=function(o,s){var a='input[type="checkbox"], input[type="'+d+'"]',p=e(),f=function(t){t.each(function(){var t=e(this);p=t.is(a)?p.add(t):p.add(t.find(a))})};if(/^(check|uncheck|toggle|indeterminate|determinate|disable|enable|update|destroy)$/i.test(o))return o=o.toLowerCase(),f(this),p.each(function(){var i=e(this);"destroy"==o?r(i,"ifDestroyed"):t(i,!0,o),e.isFunction(s)&&s()});if("object"!=typeof o&&o)return this;var z=e.extend({checkedClass:u,disabledClass:h,indeterminateClass:m,labelHover:!0,aria:!1},o),I=z.handle,x=z.hoverClass||"hover",S=z.focusClass||"focus",R=z.activeClass||"active",A=!!z.labelHover,k=z.labelHoverClass||"hover",O=0|(""+z.increaseArea).replace("%","");return("checkbox"==I||I==d)&&(a='input[type="'+I+'"]'),-50>O&&(O=-50),f(this),p.each(function(){var o=e(this);r(o);var s=this,a=s.id,p=-O+"%",f=100+2*O+"%",f={position:"absolute",top:p,left:p,display:"block",width:f,height:f,margin:0,padding:0,background:"#fff",border:0,opacity:0},p=M?{position:"absolute",visibility:"hidden"}:O?f:{position:"absolute",opacity:0},m="checkbox"==s[v]?z.checkboxClass||"icheckbox":z.radioClass||"i"+d,I=e(w+'[for="'+a+'"]').add(o.closest(w)),E=!!z.aria,P=l+"-"+Math.random().toString(36).substr(2,6),D='<div class="'+m+'" '+(E?'role="'+s[v]+'" ':"");E&&I.each(function(){D+='aria-labelledby="',this.id?D+=this.id:(this.id=P,D+=P),D+='"'}),D=o.wrap(D+"/>")[C]("ifCreated").parent().append(z.insert),f=e('<ins class="'+c+'"/>').css(f).appendTo(D),o.data(l,{o:z,s:o.attr("style")}).css(p),z.inheritClass&&D[y](s.className||""),z.inheritID&&a&&D.attr("id",l+"-"+a),"static"==D.css("position")&&D.css("position","relative"),t(o,!0,g),I.length&&I.on("click.i mouseover.i mouseout.i touchbegin.i touchend.i",function(i){var n=i[v],r=e(this);if(!s[h]){if("click"==n){if(e(i.target).is("a"))return;t(o,!1,!0)}else A&&(/ut|nd/.test(n)?(D[b](x),r[b](k)):(D[y](x),r[y](k)));if(!M)return!1;i.stopPropagation()}}),o.on("click.i focus.i blur.i keyup.i keydown.i keypress.i",function(e){var t=e[v];return e=e.keyCode,"click"!=t&&("keydown"==t&&32==e?(s[v]==d&&s[u]||(s[u]?n(o,u):i(o,u)),!1):void("keyup"==t&&s[v]==d?s[u]||i(o,u):/us|ur/.test(t)&&D["blur"==t?b:y](S)))}),f.on("click mousedown mouseup mouseover mouseout touchbegin.i touchend.i",function(e){var i=e[v],n=/wn|up/.test(i)?R:x;if(!s[h]){if("click"==i?t(o,!1,!0):(/wn|er|in/.test(i)?D[y](n):D[b](n+" "+R),I.length&&A&&n==x&&I[/ut|nd/.test(i)?b:y](k)),!M)return!1;e.stopPropagation()}})})}}(window.jQuery||window.Zepto),"function"!=typeof jQuery.fn.selecter&&function(e,t){"use strict";function i(t){t=e.extend({},C,t||{}),null===b&&(b=e("body"));for(var i=e(this),r=0,o=i.length;o>r;r++)n(i.eq(r),t);return i}function n(t,i){if(!t.hasClass("selecter-element")){(i=e.extend({},i,t.data("selecter-options"))).external&&(i.links=!0);var n=t.find("option, optgroup"),s=n.filter("option"),p=s.filter(":selected"),f=""!==i.label?-1:s.index(p),v=i.links?"nav":"div";i.tabIndex=t[0].tabIndex,t[0].tabIndex=-1,i.multiple=t.prop("multiple"),i.disabled=t.is(":disabled");var b="<"+v+' class="selecter '+i.customClass;y?b+=" mobile":i.cover&&(b+=" cover"),b+=i.multiple?" multiple":" closed",i.disabled&&(b+=" disabled"),b+='" tabindex="'+i.tabIndex+'">',i.multiple||(b+='<span class="selecter-selected'+(""!==i.label?" placeholder":"")+'">',b+=e("<span></span").text(m(""!==i.label?i.label:p.text(),i.trim)).html(),b+="</span>"),b+='<div class="selecter-options">',b+="</div>",b+="</"+v+">",t.addClass("selecter-element").after(b);var C=t.next(".selecter"),w=e.extend({$select:t,$allOptions:n,$options:s,$selecter:C,$selected:C.find(".selecter-selected"),$itemsWrapper:C.find(".selecter-options"),index:-1,guid:g++},i);r(w),h(f,w),void 0!==e.fn.scroller&&w.$itemsWrapper.scroller(),w.$selecter.on("touchstart.selecter click.selecter",".selecter-selected",w,o).on("click.selecter",".selecter-item",w,l).on("close.selecter",w,a).data("selecter",w),w.$select.on("change.selecter",w,c),y||(w.$selecter.on("focus.selecter",w,d).on("blur.selecter",w,u),w.$select.on("focus.selecter",w,function(e){e.data.$selecter.trigger("focus")}))}}function r(t){for(var i="",n=t.links?"a":"span",r=0,o=0,s=t.$allOptions.length;s>o;o++){var a=t.$allOptions.eq(o);if("OPTGROUP"===a[0].tagName)i+='<span class="selecter-group',a.is(":disabled")&&(i+=" disabled"),i+='">'+a.attr("label")+"</span>";else{var l=a.val();a.attr("value")||a.attr("value",l),i+="<"+n+' class="selecter-item',a.is(":selected")&&""===t.label&&(i+=" selected"),a.is(":disabled")&&(i+=" disabled"),i+='" ',i+=t.links?'href="'+l+'"':'data-value="'+l+'"',i+=">"+e("<span></span>").text(m(a.text(),t.trim)).html()+"</"+n+">",r++}}t.$itemsWrapper.html(i),t.$items=t.$selecter.find(".selecter-item")}function o(i){i.preventDefault(),i.stopPropagation();var n=i.data;if(!n.$select.is(":disabled")){if(e(".selecter").not(n.$selecter).trigger("close.selecter",[n]),y){var r=n.$select[0];if(t.document.createEvent){var o=t.document.createEvent("MouseEvents");o.initMouseEvent("mousedown",!1,!0,t,0,0,0,0,0,!1,!1,!1,!1,0,null),r.dispatchEvent(o)}else r.fireEvent&&r.fireEvent("onmousedown")}else n.$selecter.hasClass("closed")?function t(i){i.preventDefault(),i.stopPropagation();var n=i.data;if(!n.$selecter.hasClass("open")){var r=n.$selecter.offset(),o=b.outerHeight(),a=n.$itemsWrapper.outerHeight(!0),l=n.index>=0?n.$items.eq(n.index).position():{left:0,top:0};r.top+a>o&&n.$selecter.addClass("bottom"),n.$itemsWrapper.show(),n.$selecter.removeClass("closed").addClass("open"),b.on("click.selecter-"+n.guid,":not(.selecter-options)",n,s),void 0!==e.fn.scroller?n.$itemsWrapper.scroller("scroll",n.$itemsWrapper.find(".scroller-content").scrollTop()+l.top,0).scroller("reset"):n.$itemsWrapper.scrollTop(n.$itemsWrapper.scrollTop()+l.top)}}(i):n.$selecter.hasClass("open")&&a(i)}}function s(t){t.preventDefault(),t.stopPropagation(),0===e(t.currentTarget).parents(".selecter").length&&a(t)}function a(e){e.preventDefault(),e.stopPropagation();var t=e.data;t.$selecter.hasClass("open")&&(t.$itemsWrapper.hide(),t.$selecter.removeClass("open bottom").addClass("closed"),b.off(".selecter-"+t.guid))}function l(t){t.preventDefault(),t.stopPropagation();var i=e(this),n=t.data;if(!n.$select.is(":disabled")){if(n.$itemsWrapper.is(":visible")){var r=n.$items.index(i);h(r,n),f(n)}n.multiple||a(t)}}function c(t,i){var n,r=e(this),o=t.data;if(!i&&!o.multiple){h(o.$options.index(o.$options.filter("[value='"+(n=r.val(),n.replace(/([;&,\.\+\*\~':"\!\^#$%@\[\]\(\)=>\|])/g,"\\$1"))+"']")),o),f(o)}}function d(t){t.preventDefault(),t.stopPropagation();var i=t.data;i.$select.is(":disabled")||i.multiple||(i.$selecter.addClass("focus").on("keydown.selecter"+i.guid,i,p),e(".selecter").not(i.$selecter).trigger("close.selecter",[i]))}function u(t){t.preventDefault(),t.stopPropagation();var i=t.data;i.$selecter.removeClass("focus").off("keydown.selecter"+i.guid+" keyup.selecter"+i.guid),e(".selecter").not(i.$selecter).trigger("close.selecter",[i])}function p(t){var i=t.data;if(13===t.keyCode)i.$selecter.hasClass("open")&&(a(t),h(i.index,i)),f(i);else if(!(9===t.keyCode||t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)){t.preventDefault(),t.stopPropagation();var n=i.$items.length-1,r=i.index<0?0:i.index;if(e.inArray(t.keyCode,v?[38,40,37,39]:[38,40])>-1)0>(r+=38===t.keyCode||v&&37===t.keyCode?-1:1)&&(r=0),r>n&&(r=n);else{var o,s,l=String.fromCharCode(t.keyCode).toUpperCase();for(s=i.index+1;n>=s;s++)if((o=i.$options.eq(s).text().charAt(0).toUpperCase())===l){r=s;break}if(0>r){for(s=0;n>=s;s++)if((o=i.$options.eq(s).text().charAt(0).toUpperCase())===l){r=s;break}}}r>=0&&h(r,i)}}function h(e,t){var i=t.$items.eq(e),n=i.hasClass("selected");if(!i.hasClass("disabled")){if(-1===e&&""!==t.label)t.$selected.html(t.label);else if(n)t.multiple&&(t.$options.eq(e).prop("selected",null),i.removeClass("selected"));else{var r=i.html();i.data("value"),t.multiple?t.$options.eq(e).prop("selected",!0):(t.$selected.html(r).removeClass("placeholder"),t.$items.filter(".selected").removeClass("selected"),t.$select[0].selectedIndex=e),i.addClass("selected")}(!n||t.multiple)&&(t.index=e)}}function f(e){var i,n;e.links?(i=e,n=i.$select.val(),i.external?t.open(n):t.location.href=n):(e.callback.call(e.$selecter,e.$select.val(),e.index),e.$select.trigger("change",[!0]))}function m(e,t){return 0===t?e:e.length>t?e.substring(0,t)+"...":e}var g=0,v=t.navigator.userAgent.toLowerCase().indexOf("firefox")>-1,y=/Android|webOS|iPhone|iPad|iPod|BlackBerry/i.test(t.navigator.userAgent||t.navigator.vendor||t.opera),b=null,C={callback:e.noop,cover:!1,customClass:"",label:"",external:!1,links:!1,trim:0},w={defaults:function(t){return C=e.extend(C,t||{}),e(this)},disable:function(t){return e(this).each(function(i,n){var r=e(n).next(".selecter").data("selecter");if(r){if(void 0!==t){var o=r.$items.index(r.$items.filter("[data-value="+t+"]"));r.$items.eq(o).addClass("disabled"),r.$options.eq(o).prop("disabled",!0)}else r.$selecter.hasClass("open")&&r.$selecter.find(".selecter-selected").trigger("click.selecter"),r.$selecter.addClass("disabled"),r.$select.prop("disabled",!0)}})},enable:function(t){return e(this).each(function(i,n){var r=e(n).next(".selecter").data("selecter");if(r){if(void 0!==t){var o=r.$items.index(r.$items.filter("[data-value="+t+"]"));r.$items.eq(o).removeClass("disabled"),r.$options.eq(o).prop("disabled",!1)}else r.$selecter.removeClass("disabled"),r.$select.prop("disabled",!1)}})},destroy:function(){return e(this).each(function(t,i){var n=e(i).next(".selecter").data("selecter");n&&(n.$selecter.hasClass("open")&&n.$selecter.find(".selecter-selected").trigger("click.selecter"),void 0!==e.fn.scroller&&n.$selecter.find(".selecter-options").scroller("destroy"),n.$select[0].tabIndex=n.tabIndex,n.$select.off(".selecter").removeClass("selecter-element").show(),n.$selecter.off(".selecter").remove())})},refresh:function(){return e(this).each(function(t,i){var n=e(i).next(".selecter").data("selecter");if(n){var o=n.index;n.$allOptions=n.$select.find("option, optgroup"),n.$options=n.$allOptions.filter("option"),n.index=-1,o=n.$options.index(n.$options.filter(":selected")),r(n),h(o,n)}})}};e.fn.selecter=function(e){return w[e]?w[e].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof e&&e?this:i.apply(this,arguments)},e.selecter=function(e){"defaults"===e&&w.defaults.apply(this,Array.prototype.slice.call(arguments,1))}}(jQuery,window),"function"!=typeof jQuery.fn.stepper&&function(e){"use strict";function t(t){t=e.extend({},a,t||{});for(var n=e(this),r=0,o=n.length;o>r;r++)i(n.eq(r),t);return n}function i(t,i){if(!t.hasClass("stepper-input")){i=e.extend({},i,t.data("stepper-options"));var r=parseFloat(t.attr("min")),o=parseFloat(t.attr("max")),s=parseFloat(t.attr("step"))||1;t.addClass("stepper-input").wrap('<div class="stepper '+i.customClass+'" />').after('<span class="stepper-arrow up">'+i.labels.up+'</span><span class="stepper-arrow down">'+i.labels.down+"</span>");var a,l,c=t.parent(".stepper"),d=e.extend({$stepper:c,$input:t,$arrow:c.find(".stepper-arrow"),min:!isNaN(r)&&r,max:!isNaN(o)&&o,step:isNaN(s)?1:s,timer:null},i);d.digits=(a=d.step,l=String(a),l.indexOf(".")>-1?l.length-l.indexOf(".")-1:0),t.is(":disabled")&&c.addClass("disabled"),c.on("touchstart.stepper mousedown.stepper",".stepper-arrow",d,n).data("stepper",d)}}function n(t){t.preventDefault(),t.stopPropagation(),r(t);var i=t.data;if(!i.$input.is(":disabled")&&!i.$stepper.hasClass("disabled")){var n,a,l=e(t.target).hasClass("up")?i.step:-i.step,c=125;i.timer=(n=i.timer,a=function(){o(i,l,!1)},s(n),setInterval(a,125)),o(i,l),e("body").on("touchend.stepper mouseup.stepper",i,r)}}function r(t){t.preventDefault(),t.stopPropagation(),s(t.data.timer),e("body").off(".stepper")}function o(e,t){var i=parseFloat(e.$input.val()),n=t;isNaN(i)?n=!1!==e.min?e.min:0:!1!==e.min&&i<e.min?n=e.min:n+=i;var r,o,s,a=(n-e.min)%e.step;0!==a&&(n-=a),!1!==e.min&&n<e.min&&(n=e.min),!1!==e.max&&n>e.max&&(n-=e.step),n!==i&&(n=(r=n,o=e.digits,s=Math.pow(10,o),Math.round(r*s)/s),e.$input.val(n).trigger("change"))}function s(e){e&&(clearInterval(e),e=null)}var a={customClass:"",labels:{up:"Up",down:"Down"}},l={defaults:function(t){return a=e.extend(a,t||{}),e(this)},destroy:function(){return e(this).each(function(){var t=e(this).data("stepper");t&&(t.$stepper.off(".stepper").find(".stepper-arrow").remove(),t.$input.unwrap().removeClass("stepper-input"))})},disable:function(){return e(this).each(function(){var t=e(this).data("stepper");t&&(t.$input.attr("disabled","disabled"),t.$stepper.addClass("disabled"))})},enable:function(){return e(this).each(function(){var t=e(this).data("stepper");t&&(t.$input.attr("disabled",null),t.$stepper.removeClass("disabled"))})}};e.fn.stepper=function(e){return l[e]?l[e].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof e&&e?this:t.apply(this,arguments)},e.stepper=function(e){"defaults"===e&&l.defaults.apply(this,Array.prototype.slice.call(arguments,1))}}(jQuery,this),function(e){"function"==typeof define&&define.amd?define(["jquery"],e):e("object"==typeof exports?require("jquery"):jQuery)}(function(e){var t=function(){if(e&&e.fn&&e.fn.czrSelect2&&e.fn.czrSelect2.amd)var t,i,n,r=e.fn.czrSelect2.amd;return r&&r.requirejs||(r?i=r:r={},function(e){var r,o,s,a,l={},c={},d={},u={},p=Object.prototype.hasOwnProperty,h=[].slice,f=/\.js$/;function m(e,t){return p.call(e,t)}function g(e,t){var i,n,r,o,s,a,l,c,u,p,h,m=t&&t.split("/"),g=d.map,v=g&&g["*"]||{};if(e&&"."===e.charAt(0)){if(t){for(s=(e=e.split("/")).length-1,d.nodeIdCompat&&f.test(e[s])&&(e[s]=e[s].replace(f,"")),e=m.slice(0,m.length-1).concat(e),u=0;u<e.length;u+=1)if("."===(h=e[u]))e.splice(u,1),u-=1;else if(".."===h){if(1===u&&(".."===e[2]||".."===e[0]))break;u>0&&(e.splice(u-1,2),u-=2)}e=e.join("/")}else 0===e.indexOf("./")&&(e=e.substring(2))}if((m||v)&&g){for(u=(i=e.split("/")).length;u>0;u-=1){if(n=i.slice(0,u).join("/"),m){for(p=m.length;p>0;p-=1)if((r=g[m.slice(0,p).join("/")])&&(r=r[n])){o=r,a=u;break}}if(o)break;!l&&v&&v[n]&&(l=v[n],c=u)}!o&&l&&(o=l,a=c),o&&(i.splice(0,a,o),e=i.join("/"))}return e}function v(t,i){return function(){var n=h.call(arguments,0);return"string"!=typeof n[0]&&1===n.length&&n.push(null),o.apply(e,n.concat([t,i]))}}function y(e){return function(t){l[e]=t}}function b(t){if(m(c,t)){var i=c[t];delete c[t],u[t]=!0,r.apply(e,i)}if(!m(l,t)&&!m(u,t))throw Error("No "+t);return l[t]}function C(e){var t,i=e?e.indexOf("!"):-1;return i>-1&&(t=e.substring(0,i),e=e.substring(i+1,e.length)),[t,e]}s=function(e,t){var i,n,r=C(e),o=r[0];return e=r[1],o&&(i=b(o=g(o,t))),o?e=i&&i.normalize?i.normalize(e,(n=t,function(e){return g(e,n)})):g(e,t):(o=(r=C(e=g(e,t)))[0],e=r[1],o&&(i=b(o))),{f:o?o+"!"+e:e,n:e,pr:o,p:i}},a={require:function(e){return v(e)},exports:function(e){var t=l[e];return void 0!==t?t:l[e]={}},module:function(e){var t;return{id:e,uri:"",exports:l[e],config:(t=e,function(){return d&&d.config&&d.config[t]||{}})}}},r=function(t,i,n,r){var o,d,p,h,f,g,C=[],w=typeof n;if(r=r||t,"undefined"===w||"function"===w){for(i=!i.length&&n.length?["require","exports","module"]:i,f=0;f<i.length;f+=1)if("require"===(d=(h=s(i[f],r)).f))C[f]=a.require(t);else if("exports"===d)C[f]=a.exports(t),g=!0;else if("module"===d)o=C[f]=a.module(t);else if(m(l,d)||m(c,d)||m(u,d))C[f]=b(d);else{if(!h.p)throw Error(t+" missing "+d);h.p.load(h.n,v(r,!0),y(d),{}),C[f]=l[d]}p=n?n.apply(l[t],C):void 0,t&&(o&&o.exports!==e&&o.exports!==l[t]?l[t]=o.exports:p===e&&g||(l[t]=p))}else t&&(l[t]=n)},t=i=o=function(t,i,n,l,c){if("string"==typeof t)return a[t]?a[t](i):b(s(t,i).f);if(!t.splice){if((d=t).deps&&o(d.deps,d.callback),!i)return;i.splice?(t=i,i=n,n=null):t=e}return i=i||function(){},"function"==typeof n&&(n=l,l=c),l?r(e,t,i,n):setTimeout(function(){r(e,t,i,n)},4),o},o.config=function(e){return o(e)},t._defined=l,(n=function(e,t,i){if("string"!=typeof e)throw Error("See almond README: incorrect module build, no module name");t.splice||(i=t,t=[]),m(l,e)||m(c,e)||(c[e]=[e,t,i])}).amd={jQuery:!0}}(),r.requirejs=t,r.require=i,r.define=n),r.define("almond",function(){}),r.define("jquery",[],function(){var t=e||$;return null==t&&console&&console.error&&console.error("CzrSelect2: An instance of jQuery or a jQuery-compatible library was not found. Make sure that you are including jQuery before CzrSelect2 on your web page."),t}),r.define("czrSelect2/utils",["jquery"],function(e){var t={};function i(e){var t=e.prototype,i=[];for(var n in t)"function"==typeof t[n]&&"constructor"!==n&&i.push(n);return i}t.Extend=function(e,t){var i={}.hasOwnProperty;function n(){this.constructor=e}for(var r in t)i.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},t.Decorate=function(e,t){var n=i(t),r=i(e);function o(){var i=Array.prototype.unshift,n=t.prototype.constructor.length,r=e.prototype.constructor;n>0&&(i.call(arguments,e.prototype.constructor),r=t.prototype.constructor),r.apply(this,arguments)}t.displayName=e.displayName,o.prototype=new function(){this.constructor=o};for(var s=0;s<r.length;s++){var a=r[s];o.prototype[a]=e.prototype[a]}for(var l=0;l<n.length;l++){var c=n[l];o.prototype[c]=function(e){var i=function(){};e in o.prototype&&(i=o.prototype[e]);var n=t.prototype[e];return function(){return Array.prototype.unshift.call(arguments,i),n.apply(this,arguments)}}(c)}return o};var n=function(){this.listeners={}};return n.prototype.on=function(e,t){this.listeners=this.listeners||{},e in this.listeners?this.listeners[e].push(t):this.listeners[e]=[t]},n.prototype.trigger=function(e){var t=Array.prototype.slice,i=t.call(arguments,1);this.listeners=this.listeners||{},null==i&&(i=[]),0===i.length&&i.push({}),i[0]._type=e,e in this.listeners&&this.invoke(this.listeners[e],t.call(arguments,1)),"*"in this.listeners&&this.invoke(this.listeners["*"],arguments)},n.prototype.invoke=function(e,t){for(var i=0,n=e.length;i<n;i++)e[i].apply(this,t)},t.Observable=n,t.generateChars=function(e){for(var t="",i=0;i<e;i++)t+=Math.floor(36*Math.random()).toString(36);return t},t.bind=function(e,t){return function(){e.apply(t,arguments)}},t._convertData=function(e){for(var t in e){var i=t.split("-"),n=e;if(1!==i.length){for(var r=0;r<i.length;r++){var o=i[r];(o=o.substring(0,1).toLowerCase()+o.substring(1))in n||(n[o]={}),r==i.length-1&&(n[o]=e[t]),n=n[o]}delete e[t]}}return e},t.hasScroll=function(t,i){var n=e(i),r=i.style.overflowX,o=i.style.overflowY;return(r!==o||"hidden"!==o&&"visible"!==o)&&("scroll"===r||"scroll"===o||n.innerHeight()<i.scrollHeight||n.innerWidth()<i.scrollWidth)},t.escapeMarkup=function(e){var t={"\\":"&#92;","&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#47;"};return"string"!=typeof e?e:String(e).replace(/[&<>"'\/\\]/g,function(e){return t[e]})},t.appendMany=function(t,i){if("1.7"===e.fn.jquery.substr(0,3)){var n=e();e.map(i,function(e){n=n.add(e)}),i=n}t.append(i)},t}),r.define("czrSelect2/results",["jquery","./utils"],function(e,t){function i(e,t,n){this.$element=e,this.data=n,this.options=t,i.__super__.constructor.call(this)}return t.Extend(i,t.Observable),i.prototype.render=function(){var t=e('<ul class="czrSelect2-results__options" role="tree"></ul>');return this.options.get("multiple")&&t.attr("aria-multiselectable","true"),this.$results=t,t},i.prototype.clear=function(){this.$results.empty()},i.prototype.displayMessage=function(t){var i=this.options.get("escapeMarkup");this.clear(),this.hideLoading();var n=e('<li role="treeitem" aria-live="assertive" class="czrSelect2-results__option"></li>'),r=this.options.get("translations").get(t.message);n.append(i(r(t.args))),n[0].className+=" czrSelect2-results__message",this.$results.append(n)},i.prototype.hideMessages=function(){this.$results.find(".czrSelect2-results__message").remove()},i.prototype.append=function(e){this.hideLoading();var t=[];if(null!=e.results&&0!==e.results.length){e.results=this.sort(e.results);for(var i=0;i<e.results.length;i++){var n=e.results[i],r=this.option(n);t.push(r)}this.$results.append(t)}else 0===this.$results.children().length&&this.trigger("results:message",{message:"noResults"})},i.prototype.position=function(e,t){t.find(".czrSelect2-results").append(e)},i.prototype.sort=function(e){return this.options.get("sorter")(e)},i.prototype.highlightFirstItem=function(){var e=this.$results.find(".czrSelect2-results__option[aria-selected]"),t=e.filter("[aria-selected=true]");t.length>0?t.first().trigger("mouseenter"):e.first().trigger("mouseenter"),this.ensureHighlightVisible()},i.prototype.setClasses=function(){var t=this;this.data.current(function(i){var n=e.map(i,function(e){return e.id.toString()});t.$results.find(".czrSelect2-results__option[aria-selected]").each(function(){var t=e(this),i=e.data(this,"data"),r=""+i.id;null!=i.element&&i.element.selected||null==i.element&&e.inArray(r,n)>-1?t.attr("aria-selected","true"):t.attr("aria-selected","false")})})},i.prototype.showLoading=function(e){this.hideLoading();var t={disabled:!0,loading:!0,text:this.options.get("translations").get("searching")(e)},i=this.option(t);i.className+=" loading-results",this.$results.prepend(i)},i.prototype.hideLoading=function(){this.$results.find(".loading-results").remove()},i.prototype.option=function(t){var i=document.createElement("li");i.className="czrSelect2-results__option";var n={role:"treeitem","aria-selected":"false"};for(var r in t.disabled&&(delete n["aria-selected"],n["aria-disabled"]="true"),null==t.id&&delete n["aria-selected"],null!=t._resultId&&(i.id=t._resultId),t.title&&(i.title=t.title),t.children&&(n.role="group",n["aria-label"]=t.text,delete n["aria-selected"]),n){var o=n[r];i.setAttribute(r,o)}if(t.children){var s=e(i),a=document.createElement("strong");a.className="czrSelect2-results__group",e(a),this.template(t,a);for(var l=[],c=0;c<t.children.length;c++){var d=t.children[c],u=this.option(d);l.push(u)}var p=e("<ul></ul>",{class:"czrSelect2-results__options czrSelect2-results__options--nested"});p.append(l),s.append(a),s.append(p)}else this.template(t,i);return e.data(i,"data",t),i},i.prototype.bind=function(t,i){var n=this,r=t.id+"-results";this.$results.attr("id",r),t.on("results:all",function(e){n.clear(),n.append(e.data),t.isOpen()&&(n.setClasses(),n.highlightFirstItem())}),t.on("results:append",function(e){n.append(e.data),t.isOpen()&&n.setClasses()}),t.on("query",function(e){n.hideMessages(),n.showLoading(e)}),t.on("select",function(){t.isOpen()&&(n.setClasses(),n.highlightFirstItem())}),t.on("unselect",function(){t.isOpen()&&(n.setClasses(),n.highlightFirstItem())}),t.on("open",function(){n.$results.attr("aria-expanded","true"),n.$results.attr("aria-hidden","false"),n.setClasses(),n.ensureHighlightVisible()}),t.on("close",function(){n.$results.attr("aria-expanded","false"),n.$results.attr("aria-hidden","true"),n.$results.removeAttr("aria-activedescendant")}),t.on("results:toggle",function(){var e=n.getHighlightedResults();0!==e.length&&e.trigger("mouseup")}),t.on("results:select",function(){var e=n.getHighlightedResults();if(0!==e.length){var t=e.data("data");"true"==e.attr("aria-selected")?n.trigger("close",{}):n.trigger("select",{data:t})}}),t.on("results:previous",function(){var e=n.getHighlightedResults(),t=n.$results.find("[aria-selected]"),i=t.index(e);if(0!==i){var r=i-1;0===e.length&&(r=0);var o=t.eq(r);o.trigger("mouseenter");var s=n.$results.offset().top,a=o.offset().top,l=n.$results.scrollTop()+(a-s);0===r?n.$results.scrollTop(0):a-s<0&&n.$results.scrollTop(l)}}),t.on("results:next",function(){var e=n.getHighlightedResults(),t=n.$results.find("[aria-selected]"),i=t.index(e)+1;if(!(i>=t.length)){var r=t.eq(i);r.trigger("mouseenter");var o=n.$results.offset().top+n.$results.outerHeight(!1),s=r.offset().top+r.outerHeight(!1),a=n.$results.scrollTop()+s-o;0===i?n.$results.scrollTop(0):s>o&&n.$results.scrollTop(a)}}),t.on("results:focus",function(e){e.element.addClass("czrSelect2-results__option--highlighted")}),t.on("results:message",function(e){n.displayMessage(e)}),e.fn.mousewheel&&this.$results.on("mousewheel",function(e){var t=n.$results.scrollTop(),i=n.$results.get(0).scrollHeight-t+e.deltaY,r=e.deltaY>0&&t-e.deltaY<=0,o=e.deltaY<0&&i<=n.$results.height();r?(n.$results.scrollTop(0),e.preventDefault(),e.stopPropagation()):o&&(n.$results.scrollTop(n.$results.get(0).scrollHeight-n.$results.height()),e.preventDefault(),e.stopPropagation())}),this.$results.on("mouseup",".czrSelect2-results__option[aria-selected]",function(t){var i=e(this),r=i.data("data");"true"!==i.attr("aria-selected")?n.trigger("select",{originalEvent:t,data:r}):n.options.get("multiple")?n.trigger("unselect",{originalEvent:t,data:r}):n.trigger("close",{})}),this.$results.on("mouseenter",".czrSelect2-results__option[aria-selected]",function(t){var i=e(this).data("data");n.getHighlightedResults().removeClass("czrSelect2-results__option--highlighted"),n.trigger("results:focus",{data:i,element:e(this)})})},i.prototype.getHighlightedResults=function(){return this.$results.find(".czrSelect2-results__option--highlighted")},i.prototype.destroy=function(){this.$results.remove()},i.prototype.ensureHighlightVisible=function(){var e=this.getHighlightedResults();if(0!==e.length){var t=this.$results.find("[aria-selected]").index(e),i=this.$results.offset().top,n=e.offset().top,r=this.$results.scrollTop()+(n-i),o=n-i;r-=2*e.outerHeight(!1),t<=2?this.$results.scrollTop(0):(o>this.$results.outerHeight()||o<0)&&this.$results.scrollTop(r)}},i.prototype.template=function(t,i){var n=this.options.get("templateResult"),r=this.options.get("escapeMarkup"),o=n(t,i);null==o?i.style.display="none":"string"==typeof o?i.innerHTML=r(o):e(i).append(o)},i}),r.define("czrSelect2/keys",[],function(){return{BACKSPACE:8,TAB:9,ENTER:13,SHIFT:16,CTRL:17,ALT:18,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46}}),r.define("czrSelect2/selection/base",["jquery","../utils","../keys"],function(e,t,i){function n(e,t){this.$element=e,this.options=t,n.__super__.constructor.call(this)}return t.Extend(n,t.Observable),n.prototype.render=function(){var t=e('<span class="czrSelect2-selection" role="combobox"  aria-haspopup="true" aria-expanded="false"></span>');return this._tabindex=0,null!=this.$element.data("old-tabindex")?this._tabindex=this.$element.data("old-tabindex"):null!=this.$element.attr("tabindex")&&(this._tabindex=this.$element.attr("tabindex")),t.attr("title",this.$element.attr("title")),t.attr("tabindex",this._tabindex),this.$selection=t,t},n.prototype.bind=function(e,t){var n=this,r=(e.id,e.id+"-results");this.container=e,this.$selection.on("focus",function(e){n.trigger("focus",e)}),this.$selection.on("blur",function(e){n._handleBlur(e)}),this.$selection.on("keydown",function(e){n.trigger("keypress",e),e.which===i.SPACE&&e.preventDefault()}),e.on("results:focus",function(e){n.$selection.attr("aria-activedescendant",e.data._resultId)}),e.on("selection:update",function(e){n.update(e.data)}),e.on("open",function(){n.$selection.attr("aria-expanded","true"),n.$selection.attr("aria-owns",r),n._attachCloseHandler(e)}),e.on("close",function(){n.$selection.attr("aria-expanded","false"),n.$selection.removeAttr("aria-activedescendant"),n.$selection.removeAttr("aria-owns"),n.$selection.focus(),n._detachCloseHandler(e)}),e.on("enable",function(){n.$selection.attr("tabindex",n._tabindex)}),e.on("disable",function(){n.$selection.attr("tabindex","-1")})},n.prototype._handleBlur=function(t){var i=this;window.setTimeout(function(){document.activeElement==i.$selection[0]||e.contains(i.$selection[0],document.activeElement)||i.trigger("blur",t)},1)},n.prototype._attachCloseHandler=function(t){e(document.body).on("mousedown.czrSelect2."+t.id,function(t){var i=e(t.target).closest(".czrSelect2");e(".czrSelect2.czrSelect2-container--open").each(function(){var t=e(this);this!=i[0]&&t.data("element").czrSelect2("close")})})},n.prototype._detachCloseHandler=function(t){e(document.body).off("mousedown.czrSelect2."+t.id)},n.prototype.position=function(e,t){t.find(".selection").append(e)},n.prototype.destroy=function(){this._detachCloseHandler(this.container)},n.prototype.update=function(e){throw Error("The `update` method must be defined in child classes.")},n}),r.define("czrSelect2/selection/single",["jquery","./base","../utils","../keys"],function(e,t,i,n){function r(){r.__super__.constructor.apply(this,arguments)}return i.Extend(r,t),r.prototype.render=function(){var e=r.__super__.render.call(this);return e.addClass("czrSelect2-selection--single"),e.html('<span class="czrSelect2-selection__rendered"></span><span class="czrSelect2-selection__arrow" role="presentation"><b role="presentation"></b></span>'),e},r.prototype.bind=function(e,t){var i=this;r.__super__.bind.apply(this,arguments);var n=e.id+"-container";this.$selection.find(".czrSelect2-selection__rendered").attr("id",n),this.$selection.attr("aria-labelledby",n),this.$selection.on("mousedown",function(e){1===e.which&&i.trigger("toggle",{originalEvent:e})}),this.$selection.on("focus",function(e){}),this.$selection.on("blur",function(e){}),e.on("focus",function(t){e.isOpen()||i.$selection.focus()}),e.on("selection:update",function(e){i.update(e.data)})},r.prototype.clear=function(){this.$selection.find(".czrSelect2-selection__rendered").empty()},r.prototype.display=function(e,t){var i=this.options.get("templateSelection");return this.options.get("escapeMarkup")(i(e,t))},r.prototype.selectionContainer=function(){return e("<span></span>")},r.prototype.update=function(e){if(0!==e.length){var t=e[0],i=this.$selection.find(".czrSelect2-selection__rendered"),n=this.display(t,i);i.empty().append(n),i.prop("title",t.title||t.text)}else this.clear()},r}),r.define("czrSelect2/selection/multiple",["jquery","./base","../utils"],function(e,t,i){function n(e,t){n.__super__.constructor.apply(this,arguments)}return i.Extend(n,t),n.prototype.render=function(){var e=n.__super__.render.call(this);return e.addClass("czrSelect2-selection--multiple"),e.html('<ul class="czrSelect2-selection__rendered"></ul>'),e},n.prototype.bind=function(t,i){var r=this;n.__super__.bind.apply(this,arguments),this.$selection.on("click",function(e){r.trigger("toggle",{originalEvent:e})}),this.$selection.on("click",".czrSelect2-selection__choice__remove",function(t){if(!r.options.get("disabled")){var i=e(this).parent().data("data");r.trigger("unselect",{originalEvent:t,data:i})}})},n.prototype.clear=function(){this.$selection.find(".czrSelect2-selection__rendered").empty()},n.prototype.display=function(e,t){var i=this.options.get("templateSelection");return this.options.get("escapeMarkup")(i(e,t))},n.prototype.selectionContainer=function(){return e('<li class="czrSelect2-selection__choice"><span class="czrSelect2-selection__choice__remove" role="presentation">&times;</span></li>')},n.prototype.update=function(e){if(this.clear(),0!==e.length){for(var t=[],n=0;n<e.length;n++){var r=e[n],o=this.selectionContainer(),s=this.display(r,o);o.append(s),o.prop("title",r.title||r.text),o.data("data",r),t.push(o)}var a=this.$selection.find(".czrSelect2-selection__rendered");i.appendMany(a,t)}},n}),r.define("czrSelect2/selection/placeholder",["../utils"],function(e){function t(e,t,i){this.placeholder=this.normalizePlaceholder(i.get("placeholder")),e.call(this,t,i)}return t.prototype.normalizePlaceholder=function(e,t){return"string"==typeof t&&(t={id:"",text:t}),t},t.prototype.createPlaceholder=function(e,t){var i=this.selectionContainer();return i.html(this.display(t)),i.addClass("czrSelect2-selection__placeholder").removeClass("czrSelect2-selection__choice"),i},t.prototype.update=function(e,t){var i=1==t.length&&t[0].id!=this.placeholder.id;if(t.length>1||i)return e.call(this,t);this.clear();var n=this.createPlaceholder(this.placeholder);this.$selection.find(".czrSelect2-selection__rendered").append(n)},t}),r.define("czrSelect2/selection/allowClear",["jquery","../keys"],function(e,t){function i(){}return i.prototype.bind=function(e,t,i){var n=this;e.call(this,t,i),null==this.placeholder&&this.options.get("debug")&&window.console&&console.error&&console.error("CzrSelect2: The `allowClear` option should be used in combination with the `placeholder` option."),this.$selection.on("mousedown",".czrSelect2-selection__clear",function(e){n._handleClear(e)}),t.on("keypress",function(e){n._handleKeyboardClear(e,t)})},i.prototype._handleClear=function(e,t){if(!this.options.get("disabled")){var i=this.$selection.find(".czrSelect2-selection__clear");if(0!==i.length){t.stopPropagation();for(var n=i.data("data"),r=0;r<n.length;r++){var o={data:n[r]};if(this.trigger("unselect",o),o.prevented)return}this.$element.val(this.placeholder.id).trigger("change"),this.trigger("toggle",{})}}},i.prototype._handleKeyboardClear=function(e,i,n){n.isOpen()||i.which!=t.DELETE&&i.which!=t.BACKSPACE||this._handleClear(i)},i.prototype.update=function(t,i){if(t.call(this,i),!(this.$selection.find(".czrSelect2-selection__placeholder").length>0||0===i.length)){var n=e('<span class="czrSelect2-selection__clear">&times;</span>');n.data("data",i),this.$selection.find(".czrSelect2-selection__rendered").prepend(n)}},i}),r.define("czrSelect2/selection/search",["jquery","../utils","../keys"],function(e,t,i){function n(e,t,i){e.call(this,t,i)}return n.prototype.render=function(t){var i=e('<li class="czrSelect2-search czrSelect2-search--inline"><input class="czrSelect2-search__field" type="search" tabindex="-1" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" role="textbox" aria-autocomplete="list" /></li>');this.$searchContainer=i,this.$search=i.find("input");var n=t.call(this);return this._transferTabIndex(),n},n.prototype.bind=function(e,t,n){var r=this;e.call(this,t,n),t.on("open",function(){r.$search.trigger("focus")}),t.on("close",function(){r.$search.val(""),r.$search.removeAttr("aria-activedescendant"),r.$search.trigger("focus")}),t.on("enable",function(){r.$search.prop("disabled",!1),r._transferTabIndex()}),t.on("disable",function(){r.$search.prop("disabled",!0)}),t.on("focus",function(e){r.$search.trigger("focus")}),t.on("results:focus",function(e){r.$search.attr("aria-activedescendant",e.id)}),this.$selection.on("focusin",".czrSelect2-search--inline",function(e){r.trigger("focus",e)}),this.$selection.on("focusout",".czrSelect2-search--inline",function(e){r._handleBlur(e)}),this.$selection.on("keydown",".czrSelect2-search--inline",function(e){if(e.stopPropagation(),r.trigger("keypress",e),r._keyUpPrevented=e.isDefaultPrevented(),e.which===i.BACKSPACE&&""===r.$search.val()){var t=r.$searchContainer.prev(".czrSelect2-selection__choice");if(t.length>0){var n=t.data("data");r.searchRemoveChoice(n),e.preventDefault()}}});var o=document.documentMode,s=o&&o<=11;this.$selection.on("input.searchcheck",".czrSelect2-search--inline",function(e){s?r.$selection.off("input.search input.searchcheck"):r.$selection.off("keyup.search")}),this.$selection.on("keyup.search input.search",".czrSelect2-search--inline",function(e){if(s&&"input"===e.type)r.$selection.off("input.search input.searchcheck");else{var t=e.which;t!=i.SHIFT&&t!=i.CTRL&&t!=i.ALT&&t!=i.TAB&&r.handleSearch(e)}})},n.prototype._transferTabIndex=function(e){this.$search.attr("tabindex",this.$selection.attr("tabindex")),this.$selection.attr("tabindex","-1")},n.prototype.createPlaceholder=function(e,t){this.$search.attr("placeholder",t.text)},n.prototype.update=function(e,t){var i=this.$search[0]==document.activeElement;this.$search.attr("placeholder",""),e.call(this,t),this.$selection.find(".czrSelect2-selection__rendered").append(this.$searchContainer),this.resizeSearch(),i&&this.$search.focus()},n.prototype.handleSearch=function(){if(this.resizeSearch(),!this._keyUpPrevented){var e=this.$search.val();this.trigger("query",{term:e})}this._keyUpPrevented=!1},n.prototype.searchRemoveChoice=function(e,t){this.trigger("unselect",{data:t}),this.$search.val(t.text),this.handleSearch()},n.prototype.resizeSearch=function(){this.$search.css("width","25px");var e="";e=""!==this.$search.attr("placeholder")?this.$selection.find(".czrSelect2-selection__rendered").innerWidth():.75*(this.$search.val().length+1)+"em",this.$search.css("width",e)},n}),r.define("czrSelect2/selection/eventRelay",["jquery"],function(e){function t(){}return t.prototype.bind=function(t,i,n){var r=this,o=["open","opening","close","closing","select","selecting","unselect","unselecting"],s=["opening","closing","selecting","unselecting"];t.call(this,i,n),i.on("*",function(t,i){if(-1!==e.inArray(t,o)){i=i||{};var n=e.Event("czrSelect2:"+t,{params:i});r.$element.trigger(n),-1!==e.inArray(t,s)&&(i.prevented=n.isDefaultPrevented())}})},t}),r.define("czrSelect2/translation",["jquery","require"],function(e,t){function i(e){this.dict=e||{}}return i.prototype.all=function(){return this.dict},i.prototype.get=function(e){return this.dict[e]},i.prototype.extend=function(t){this.dict=e.extend({},t.all(),this.dict)},i._cache={},i.loadPath=function(e){if(!(e in i._cache)){var n=t(e);i._cache[e]=n}return new i(i._cache[e])},i}),r.define("czrSelect2/diacritics",[],function(){return{"Ⓐ":"A",Ａ:"A",À:"A",Á:"A",Â:"A",Ầ:"A",Ấ:"A",Ẫ:"A",Ẩ:"A",Ã:"A",Ā:"A",Ă:"A",Ằ:"A",Ắ:"A",Ẵ:"A",Ẳ:"A",Ȧ:"A",Ǡ:"A",Ä:"A",Ǟ:"A",Ả:"A",Å:"A",Ǻ:"A",Ǎ:"A",Ȁ:"A",Ȃ:"A",Ạ:"A",Ậ:"A",Ặ:"A",Ḁ:"A",Ą:"A",Ⱥ:"A",Ɐ:"A",Ꜳ:"AA",Æ:"AE",Ǽ:"AE",Ǣ:"AE",Ꜵ:"AO",Ꜷ:"AU",Ꜹ:"AV",Ꜻ:"AV",Ꜽ:"AY","Ⓑ":"B",Ｂ:"B",Ḃ:"B",Ḅ:"B",Ḇ:"B",Ƀ:"B",Ƃ:"B",Ɓ:"B","Ⓒ":"C",Ｃ:"C",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",Ç:"C",Ḉ:"C",Ƈ:"C",Ȼ:"C",Ꜿ:"C","Ⓓ":"D",Ｄ:"D",Ḋ:"D",Ď:"D",Ḍ:"D",Ḑ:"D",Ḓ:"D",Ḏ:"D",Đ:"D",Ƌ:"D",Ɗ:"D",Ɖ:"D",Ꝺ:"D",Ǳ:"DZ",Ǆ:"DZ",ǲ:"Dz",ǅ:"Dz","Ⓔ":"E",Ｅ:"E",È:"E",É:"E",Ê:"E",Ề:"E",Ế:"E",Ễ:"E",Ể:"E",Ẽ:"E",Ē:"E",Ḕ:"E",Ḗ:"E",Ĕ:"E",Ė:"E",Ë:"E",Ẻ:"E",Ě:"E",Ȅ:"E",Ȇ:"E",Ẹ:"E",Ệ:"E",Ȩ:"E",Ḝ:"E",Ę:"E",Ḙ:"E",Ḛ:"E",Ɛ:"E",Ǝ:"E","Ⓕ":"F",Ｆ:"F",Ḟ:"F",Ƒ:"F",Ꝼ:"F","Ⓖ":"G",Ｇ:"G",Ǵ:"G",Ĝ:"G",Ḡ:"G",Ğ:"G",Ġ:"G",Ǧ:"G",Ģ:"G",Ǥ:"G",Ɠ:"G",Ꞡ:"G",Ᵹ:"G",Ꝿ:"G","Ⓗ":"H",Ｈ:"H",Ĥ:"H",Ḣ:"H",Ḧ:"H",Ȟ:"H",Ḥ:"H",Ḩ:"H",Ḫ:"H",Ħ:"H",Ⱨ:"H",Ⱶ:"H",Ɥ:"H","Ⓘ":"I",Ｉ:"I",Ì:"I",Í:"I",Î:"I",Ĩ:"I",Ī:"I",Ĭ:"I",İ:"I",Ï:"I",Ḯ:"I",Ỉ:"I",Ǐ:"I",Ȉ:"I",Ȋ:"I",Ị:"I",Į:"I",Ḭ:"I",Ɨ:"I","Ⓙ":"J",Ｊ:"J",Ĵ:"J",Ɉ:"J","Ⓚ":"K",Ｋ:"K",Ḱ:"K",Ǩ:"K",Ḳ:"K",Ķ:"K",Ḵ:"K",Ƙ:"K",Ⱪ:"K",Ꝁ:"K",Ꝃ:"K",Ꝅ:"K",Ꞣ:"K","Ⓛ":"L",Ｌ:"L",Ŀ:"L",Ĺ:"L",Ľ:"L",Ḷ:"L",Ḹ:"L",Ļ:"L",Ḽ:"L",Ḻ:"L",Ł:"L",Ƚ:"L",Ɫ:"L",Ⱡ:"L",Ꝉ:"L",Ꝇ:"L",Ꞁ:"L",Ǉ:"LJ",ǈ:"Lj","Ⓜ":"M",Ｍ:"M",Ḿ:"M",Ṁ:"M",Ṃ:"M",Ɱ:"M",Ɯ:"M","Ⓝ":"N",Ｎ:"N",Ǹ:"N",Ń:"N",Ñ:"N",Ṅ:"N",Ň:"N",Ṇ:"N",Ņ:"N",Ṋ:"N",Ṉ:"N",Ƞ:"N",Ɲ:"N",Ꞑ:"N",Ꞥ:"N",Ǌ:"NJ",ǋ:"Nj","Ⓞ":"O",Ｏ:"O",Ò:"O",Ó:"O",Ô:"O",Ồ:"O",Ố:"O",Ỗ:"O",Ổ:"O",Õ:"O",Ṍ:"O",Ȭ:"O",Ṏ:"O",Ō:"O",Ṑ:"O",Ṓ:"O",Ŏ:"O",Ȯ:"O",Ȱ:"O",Ö:"O",Ȫ:"O",Ỏ:"O",Ő:"O",Ǒ:"O",Ȍ:"O",Ȏ:"O",Ơ:"O",Ờ:"O",Ớ:"O",Ỡ:"O",Ở:"O",Ợ:"O",Ọ:"O",Ộ:"O",Ǫ:"O",Ǭ:"O",Ø:"O",Ǿ:"O",Ɔ:"O",Ɵ:"O",Ꝋ:"O",Ꝍ:"O",Ƣ:"OI",Ꝏ:"OO",Ȣ:"OU","Ⓟ":"P",Ｐ:"P",Ṕ:"P",Ṗ:"P",Ƥ:"P",Ᵽ:"P",Ꝑ:"P",Ꝓ:"P",Ꝕ:"P","Ⓠ":"Q",Ｑ:"Q",Ꝗ:"Q",Ꝙ:"Q",Ɋ:"Q","Ⓡ":"R",Ｒ:"R",Ŕ:"R",Ṙ:"R",Ř:"R",Ȑ:"R",Ȓ:"R",Ṛ:"R",Ṝ:"R",Ŗ:"R",Ṟ:"R",Ɍ:"R",Ɽ:"R",Ꝛ:"R",Ꞧ:"R",Ꞃ:"R","Ⓢ":"S",Ｓ:"S",ẞ:"S",Ś:"S",Ṥ:"S",Ŝ:"S",Ṡ:"S",Š:"S",Ṧ:"S",Ṣ:"S",Ṩ:"S",Ș:"S",Ş:"S",Ȿ:"S",Ꞩ:"S",Ꞅ:"S","Ⓣ":"T",Ｔ:"T",Ṫ:"T",Ť:"T",Ṭ:"T",Ț:"T",Ţ:"T",Ṱ:"T",Ṯ:"T",Ŧ:"T",Ƭ:"T",Ʈ:"T",Ⱦ:"T",Ꞇ:"T",Ꜩ:"TZ","Ⓤ":"U",Ｕ:"U",Ù:"U",Ú:"U",Û:"U",Ũ:"U",Ṹ:"U",Ū:"U",Ṻ:"U",Ŭ:"U",Ü:"U",Ǜ:"U",Ǘ:"U",Ǖ:"U",Ǚ:"U",Ủ:"U",Ů:"U",Ű:"U",Ǔ:"U",Ȕ:"U",Ȗ:"U",Ư:"U",Ừ:"U",Ứ:"U",Ữ:"U",Ử:"U",Ự:"U",Ụ:"U",Ṳ:"U",Ų:"U",Ṷ:"U",Ṵ:"U",Ʉ:"U","Ⓥ":"V",Ｖ:"V",Ṽ:"V",Ṿ:"V",Ʋ:"V",Ꝟ:"V",Ʌ:"V",Ꝡ:"VY","Ⓦ":"W",Ｗ:"W",Ẁ:"W",Ẃ:"W",Ŵ:"W",Ẇ:"W",Ẅ:"W",Ẉ:"W",Ⱳ:"W","Ⓧ":"X",Ｘ:"X",Ẋ:"X",Ẍ:"X","Ⓨ":"Y",Ｙ:"Y",Ỳ:"Y",Ý:"Y",Ŷ:"Y",Ỹ:"Y",Ȳ:"Y",Ẏ:"Y",Ÿ:"Y",Ỷ:"Y",Ỵ:"Y",Ƴ:"Y",Ɏ:"Y",Ỿ:"Y","Ⓩ":"Z",Ｚ:"Z",Ź:"Z",Ẑ:"Z",Ż:"Z",Ž:"Z",Ẓ:"Z",Ẕ:"Z",Ƶ:"Z",Ȥ:"Z",Ɀ:"Z",Ⱬ:"Z",Ꝣ:"Z","ⓐ":"a",ａ:"a",ẚ:"a",à:"a",á:"a",â:"a",ầ:"a",ấ:"a",ẫ:"a",ẩ:"a",ã:"a",ā:"a",ă:"a",ằ:"a",ắ:"a",ẵ:"a",ẳ:"a",ȧ:"a",ǡ:"a",ä:"a",ǟ:"a",ả:"a",å:"a",ǻ:"a",ǎ:"a",ȁ:"a",ȃ:"a",ạ:"a",ậ:"a",ặ:"a",ḁ:"a",ą:"a",ⱥ:"a",ɐ:"a",ꜳ:"aa",æ:"ae",ǽ:"ae",ǣ:"ae",ꜵ:"ao",ꜷ:"au",ꜹ:"av",ꜻ:"av",ꜽ:"ay","ⓑ":"b",ｂ:"b",ḃ:"b",ḅ:"b",ḇ:"b",ƀ:"b",ƃ:"b",ɓ:"b","ⓒ":"c",ｃ:"c",ć:"c",ĉ:"c",ċ:"c",č:"c",ç:"c",ḉ:"c",ƈ:"c",ȼ:"c",ꜿ:"c",ↄ:"c","ⓓ":"d",ｄ:"d",ḋ:"d",ď:"d",ḍ:"d",ḑ:"d",ḓ:"d",ḏ:"d",đ:"d",ƌ:"d",ɖ:"d",ɗ:"d",ꝺ:"d",ǳ:"dz",ǆ:"dz","ⓔ":"e",ｅ:"e",è:"e",é:"e",ê:"e",ề:"e",ế:"e",ễ:"e",ể:"e",ẽ:"e",ē:"e",ḕ:"e",ḗ:"e",ĕ:"e",ė:"e",ë:"e",ẻ:"e",ě:"e",ȅ:"e",ȇ:"e",ẹ:"e",ệ:"e",ȩ:"e",ḝ:"e",ę:"e",ḙ:"e",ḛ:"e",ɇ:"e",ɛ:"e",ǝ:"e","ⓕ":"f",ｆ:"f",ḟ:"f",ƒ:"f",ꝼ:"f","ⓖ":"g",ｇ:"g",ǵ:"g",ĝ:"g",ḡ:"g",ğ:"g",ġ:"g",ǧ:"g",ģ:"g",ǥ:"g",ɠ:"g",ꞡ:"g",ᵹ:"g",ꝿ:"g","ⓗ":"h",ｈ:"h",ĥ:"h",ḣ:"h",ḧ:"h",ȟ:"h",ḥ:"h",ḩ:"h",ḫ:"h",ẖ:"h",ħ:"h",ⱨ:"h",ⱶ:"h",ɥ:"h",ƕ:"hv","ⓘ":"i",ｉ:"i",ì:"i",í:"i",î:"i",ĩ:"i",ī:"i",ĭ:"i",ï:"i",ḯ:"i",ỉ:"i",ǐ:"i",ȉ:"i",ȋ:"i",ị:"i",į:"i",ḭ:"i",ɨ:"i",ı:"i","ⓙ":"j",ｊ:"j",ĵ:"j",ǰ:"j",ɉ:"j","ⓚ":"k",ｋ:"k",ḱ:"k",ǩ:"k",ḳ:"k",ķ:"k",ḵ:"k",ƙ:"k",ⱪ:"k",ꝁ:"k",ꝃ:"k",ꝅ:"k",ꞣ:"k","ⓛ":"l",ｌ:"l",ŀ:"l",ĺ:"l",ľ:"l",ḷ:"l",ḹ:"l",ļ:"l",ḽ:"l",ḻ:"l",ſ:"l",ł:"l",ƚ:"l",ɫ:"l",ⱡ:"l",ꝉ:"l",ꞁ:"l",ꝇ:"l",ǉ:"lj","ⓜ":"m",ｍ:"m",ḿ:"m",ṁ:"m",ṃ:"m",ɱ:"m",ɯ:"m","ⓝ":"n",ｎ:"n",ǹ:"n",ń:"n",ñ:"n",ṅ:"n",ň:"n",ṇ:"n",ņ:"n",ṋ:"n",ṉ:"n",ƞ:"n",ɲ:"n",ŉ:"n",ꞑ:"n",ꞥ:"n",ǌ:"nj","ⓞ":"o",ｏ:"o",ò:"o",ó:"o",ô:"o",ồ:"o",ố:"o",ỗ:"o",ổ:"o",õ:"o",ṍ:"o",ȭ:"o",ṏ:"o",ō:"o",ṑ:"o",ṓ:"o",ŏ:"o",ȯ:"o",ȱ:"o",ö:"o",ȫ:"o",ỏ:"o",ő:"o",ǒ:"o",ȍ:"o",ȏ:"o",ơ:"o",ờ:"o",ớ:"o",ỡ:"o",ở:"o",ợ:"o",ọ:"o",ộ:"o",ǫ:"o",ǭ:"o",ø:"o",ǿ:"o",ɔ:"o",ꝋ:"o",ꝍ:"o",ɵ:"o",ƣ:"oi",ȣ:"ou",ꝏ:"oo","ⓟ":"p",ｐ:"p",ṕ:"p",ṗ:"p",ƥ:"p",ᵽ:"p",ꝑ:"p",ꝓ:"p",ꝕ:"p","ⓠ":"q",ｑ:"q",ɋ:"q",ꝗ:"q",ꝙ:"q","ⓡ":"r",ｒ:"r",ŕ:"r",ṙ:"r",ř:"r",ȑ:"r",ȓ:"r",ṛ:"r",ṝ:"r",ŗ:"r",ṟ:"r",ɍ:"r",ɽ:"r",ꝛ:"r",ꞧ:"r",ꞃ:"r","ⓢ":"s",ｓ:"s",ß:"s",ś:"s",ṥ:"s",ŝ:"s",ṡ:"s",š:"s",ṧ:"s",ṣ:"s",ṩ:"s",ș:"s",ş:"s",ȿ:"s",ꞩ:"s",ꞅ:"s",ẛ:"s","ⓣ":"t",ｔ:"t",ṫ:"t",ẗ:"t",ť:"t",ṭ:"t",ț:"t",ţ:"t",ṱ:"t",ṯ:"t",ŧ:"t",ƭ:"t",ʈ:"t",ⱦ:"t",ꞇ:"t",ꜩ:"tz","ⓤ":"u",ｕ:"u",ù:"u",ú:"u",û:"u",ũ:"u",ṹ:"u",ū:"u",ṻ:"u",ŭ:"u",ü:"u",ǜ:"u",ǘ:"u",ǖ:"u",ǚ:"u",ủ:"u",ů:"u",ű:"u",ǔ:"u",ȕ:"u",ȗ:"u",ư:"u",ừ:"u",ứ:"u",ữ:"u",ử:"u",ự:"u",ụ:"u",ṳ:"u",ų:"u",ṷ:"u",ṵ:"u",ʉ:"u","ⓥ":"v",ｖ:"v",ṽ:"v",ṿ:"v",ʋ:"v",ꝟ:"v",ʌ:"v",ꝡ:"vy","ⓦ":"w",ｗ:"w",ẁ:"w",ẃ:"w",ŵ:"w",ẇ:"w",ẅ:"w",ẘ:"w",ẉ:"w",ⱳ:"w","ⓧ":"x",ｘ:"x",ẋ:"x",ẍ:"x","ⓨ":"y",ｙ:"y",ỳ:"y",ý:"y",ŷ:"y",ỹ:"y",ȳ:"y",ẏ:"y",ÿ:"y",ỷ:"y",ẙ:"y",ỵ:"y",ƴ:"y",ɏ:"y",ỿ:"y","ⓩ":"z",ｚ:"z",ź:"z",ẑ:"z",ż:"z",ž:"z",ẓ:"z",ẕ:"z",ƶ:"z",ȥ:"z",ɀ:"z",ⱬ:"z",ꝣ:"z",Ά:"Α",Έ:"Ε",Ή:"Η",Ί:"Ι",Ϊ:"Ι",Ό:"Ο",Ύ:"Υ",Ϋ:"Υ",Ώ:"Ω",ά:"α",έ:"ε",ή:"η",ί:"ι",ϊ:"ι",ΐ:"ι",ό:"ο",ύ:"υ",ϋ:"υ",ΰ:"υ",ω:"ω",ς:"σ"}}),r.define("czrSelect2/data/base",["../utils"],function(e){function t(e,i){t.__super__.constructor.call(this)}return e.Extend(t,e.Observable),t.prototype.current=function(e){throw Error("The `current` method must be defined in child classes.")},t.prototype.query=function(e,t){throw Error("The `query` method must be defined in child classes.")},t.prototype.bind=function(e,t){},t.prototype.destroy=function(){},t.prototype.generateResultId=function(t,i){var n=t.id+"-result-";return n+=e.generateChars(4),null!=i.id?n+="-"+i.id.toString():n+="-"+e.generateChars(4),n},t}),r.define("czrSelect2/data/select",["./base","../utils","jquery"],function(e,t,i){function n(e,t){this.$element=e,this.options=t,n.__super__.constructor.call(this)}return t.Extend(n,e),n.prototype.current=function(e){var t=[],n=this;this.$element.find(":selected").each(function(){var e=i(this),r=n.item(e);t.push(r)}),e(t)},n.prototype.select=function(e){var t=this;if(e.selected=!0,i(e.element).is("option"))return e.element.selected=!0,void this.$element.trigger("change");if(this.$element.prop("multiple"))this.current(function(n){var r=[];(e=[e]).push.apply(e,n);for(var o=0;o<e.length;o++){var s=e[o].id;-1===i.inArray(s,r)&&r.push(s)}t.$element.val(r),t.$element.trigger("change")});else{var n=e.id;this.$element.val(n),this.$element.trigger("change")}},n.prototype.unselect=function(e){var t=this;if(this.$element.prop("multiple")){if(e.selected=!1,i(e.element).is("option"))return e.element.selected=!1,void this.$element.trigger("change");this.current(function(n){for(var r=[],o=0;o<n.length;o++){var s=n[o].id;s!==e.id&&-1===i.inArray(s,r)&&r.push(s)}t.$element.val(r),t.$element.trigger("change")})}},n.prototype.bind=function(e,t){var i=this;this.container=e,e.on("select",function(e){i.select(e.data)}),e.on("unselect",function(e){i.unselect(e.data)})},n.prototype.destroy=function(){this.$element.find("*").each(function(){i.removeData(this,"data")})},n.prototype.query=function(e,t){var n=[],r=this;this.$element.children().each(function(){var t=i(this);if(t.is("option")||t.is("optgroup")){var o=r.item(t),s=r.matches(e,o);null!==s&&n.push(s)}}),t({results:n})},n.prototype.addOptions=function(e){t.appendMany(this.$element,e)},n.prototype.option=function(e){e.children?(t=document.createElement("optgroup")).label=e.text:void 0!==(t=document.createElement("option")).textContent?t.textContent=e.text:t.innerText=e.text,e.id&&(t.value=e.id),e.disabled&&(t.disabled=!0),e.selected&&(t.selected=!0),e.title&&(t.title=e.title);var t,n=i(t),r=this._normalizeItem(e);return r.element=t,i.data(t,"data",r),n},n.prototype.item=function(e){var t={};if(null!=(t=i.data(e[0],"data")))return t;if(e.is("option"))t={id:e.val(),text:e.text(),disabled:e.prop("disabled"),selected:e.prop("selected"),title:e.prop("title")};else if(e.is("optgroup")){t={text:e.prop("label"),children:[],title:e.prop("title")};for(var n=e.children("option"),r=[],o=0;o<n.length;o++){var s=i(n[o]),a=this.item(s);r.push(a)}t.children=r}return(t=this._normalizeItem(t)).element=e[0],i.data(e[0],"data",t),t},n.prototype._normalizeItem=function(e){return i.isPlainObject(e)||(e={id:e,text:e}),null!=(e=i.extend({},{text:""},e)).id&&(e.id=e.id.toString()),null!=e.text&&(e.text=e.text.toString()),null==e._resultId&&e.id&&null!=this.container&&(e._resultId=this.generateResultId(this.container,e)),i.extend({},{selected:!1,disabled:!1},e)},n.prototype.matches=function(e,t){return this.options.get("matcher")(e,t)},n}),r.define("czrSelect2/data/array",["./select","../utils","jquery"],function(e,t,i){function n(e,t){var i=t.get("data")||[];n.__super__.constructor.call(this,e,t),this.addOptions(this.convertToOptions(i))}return t.Extend(n,e),n.prototype.select=function(e){var t=this.$element.find("option").filter(function(t,i){return i.value==e.id.toString()});0===t.length&&(t=this.option(e),this.addOptions(t)),n.__super__.select.call(this,e)},n.prototype.convertToOptions=function(e){var n=this,r=this.$element.find("option"),o=r.map(function(){return n.item(i(this)).id}).get(),s=[];function a(e){return function(){return i(this).val()==e.id}}for(var l=0;l<e.length;l++){var c=this._normalizeItem(e[l]);if(i.inArray(c.id,o)>=0){var d=r.filter(a(c)),u=this.item(d),p=i.extend(!0,{},c,u),h=this.option(p);d.replaceWith(h)}else{var f=this.option(c);if(c.children){var m=this.convertToOptions(c.children);t.appendMany(f,m)}s.push(f)}}return s},n}),r.define("czrSelect2/data/ajax",["./array","../utils","jquery"],function(e,t,i){function n(e,t){this.ajaxOptions=this._applyDefaults(t.get("ajax")),null!=this.ajaxOptions.processResults&&(this.processResults=this.ajaxOptions.processResults),n.__super__.constructor.call(this,e,t)}return t.Extend(n,e),n.prototype._applyDefaults=function(e){return i.extend({},{data:function(e){return i.extend({},e,{q:e.term})},transport:function(e,t,n){var r=i.ajax(e);return r.then(t),r.fail(n),r}},e,!0)},n.prototype.processResults=function(e){return e},n.prototype.query=function(e,t){var n=this;null!=this._request&&("function"==typeof this._request.abort&&this._request.abort(),this._request=null);var r=i.extend({type:"GET"},this.ajaxOptions);function o(){var o=r.transport(r,function(r){var o=n.processResults(r,e);n.options.get("debug")&&window.console&&console.error&&(o&&o.results&&i.isArray(o.results)||console.error("CzrSelect2: The AJAX results did not return an array in the `results` key of the response.")),t(o)},function(){o.status&&"0"===o.status||n.trigger("results:message",{message:"errorLoading"})});n._request=o}"function"==typeof r.url&&(r.url=r.url.call(this.$element,e)),"function"==typeof r.data&&(r.data=r.data.call(this.$element,e)),this.ajaxOptions.delay&&null!=e.term?(this._queryTimeout&&window.clearTimeout(this._queryTimeout),this._queryTimeout=window.setTimeout(o,this.ajaxOptions.delay)):o()},n}),r.define("czrSelect2/data/tags",["jquery"],function(e){function t(t,i,n){var r=n.get("tags"),o=n.get("createTag");void 0!==o&&(this.createTag=o);var s=n.get("insertTag");if(void 0!==s&&(this.insertTag=s),t.call(this,i,n),e.isArray(r))for(var a=0;a<r.length;a++){var l=r[a],c=this._normalizeItem(l),d=this.option(c);this.$element.append(d)}}return t.prototype.query=function(e,t,i){var n=this;this._removeOldTags(),null!=t.term&&null==t.page?e.call(this,t,function e(r,o){for(var s=r.results,a=0;a<s.length;a++){var l=s[a],c=null!=l.children&&!e({results:l.children},!0);if(l.text===t.term||c)return!o&&(r.data=s,void i(r))}if(o)return!0;var d=n.createTag(t);if(null!=d){var u=n.option(d);u.attr("data-czrSelect2-tag",!0),n.addOptions([u]),n.insertTag(s,d)}r.results=s,i(r)}):e.call(this,t,i)},t.prototype.createTag=function(e,t){var i="string"==typeof t.term?t.term.trim():"";return""===i?null:{id:i,text:i}},t.prototype.insertTag=function(e,t,i){t.unshift(i)},t.prototype._removeOldTags=function(t){this._lastTag,this.$element.find("option[data-czrSelect2-tag]").each(function(){this.selected||e(this).remove()})},t}),r.define("czrSelect2/data/tokenizer",["jquery"],function(e){function t(e,t,i){var n=i.get("tokenizer");void 0!==n&&(this.tokenizer=n),e.call(this,t,i)}return t.prototype.bind=function(e,t,i){e.call(this,t,i),this.$search=t.dropdown.$search||t.selection.$search||i.find(".czrSelect2-search__field")},t.prototype.query=function(t,i,n){var r=this;i.term=i.term||"";var o=this.tokenizer(i,this.options,function(t){var i,n=r._normalizeItem(t);if(!r.$element.find("option").filter(function(){return e(this).val()===n.id}).length){var o=r.option(n);o.attr("data-czrSelect2-tag",!0),r._removeOldTags(),r.addOptions([o])}i=n,r.trigger("select",{data:i})});o.term!==i.term&&(this.$search.length&&(this.$search.val(o.term),this.$search.focus()),i.term=o.term),t.call(this,i,n)},t.prototype.tokenizer=function(t,i,n,r){for(var o=n.get("tokenSeparators")||[],s=i.term,a=0,l=this.createTag||function(e){return{id:e.term,text:e.term}};a<s.length;){var c=s[a];if(-1!==e.inArray(c,o)){var d=s.substr(0,a),u=l(e.extend({},i,{term:d}));null!=u?(r(u),s=s.substr(a+1)||"",a=0):a++}else a++}return{term:s}},t}),r.define("czrSelect2/data/minimumInputLength",[],function(){function e(e,t,i){this.minimumInputLength=i.get("minimumInputLength"),e.call(this,t,i)}return e.prototype.query=function(e,t,i){t.term=t.term||"",t.term.length<this.minimumInputLength?this.trigger("results:message",{message:"inputTooShort",args:{minimum:this.minimumInputLength,input:t.term,params:t}}):e.call(this,t,i)},e}),r.define("czrSelect2/data/maximumInputLength",[],function(){function e(e,t,i){this.maximumInputLength=i.get("maximumInputLength"),e.call(this,t,i)}return e.prototype.query=function(e,t,i){t.term=t.term||"",this.maximumInputLength>0&&t.term.length>this.maximumInputLength?this.trigger("results:message",{message:"inputTooLong",args:{maximum:this.maximumInputLength,input:t.term,params:t}}):e.call(this,t,i)},e}),r.define("czrSelect2/data/maximumSelectionLength",[],function(){function e(e,t,i){this.maximumSelectionLength=i.get("maximumSelectionLength"),e.call(this,t,i)}return e.prototype.query=function(e,t,i){var n=this;this.current(function(r){var o=null!=r?r.length:0;n.maximumSelectionLength>0&&o>=n.maximumSelectionLength?n.trigger("results:message",{message:"maximumSelected",args:{maximum:n.maximumSelectionLength}}):e.call(n,t,i)})},e}),r.define("czrSelect2/dropdown",["jquery","./utils"],function(e,t){function i(e,t){this.$element=e,this.options=t,i.__super__.constructor.call(this)}return t.Extend(i,t.Observable),i.prototype.render=function(){var t=e('<span class="czrSelect2-dropdown"><span class="czrSelect2-results"></span></span>');return t.attr("dir",this.options.get("dir")),this.$dropdown=t,t},i.prototype.bind=function(){},i.prototype.position=function(e,t){},i.prototype.destroy=function(){this.$dropdown.remove()},i}),r.define("czrSelect2/dropdown/search",["jquery","../utils"],function(e,t){function i(){}return i.prototype.render=function(t){var i=t.call(this),n=e('<span class="czrSelect2-search czrSelect2-search--dropdown"><input class="czrSelect2-search__field" type="search" tabindex="-1" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" role="textbox" /></span>');return this.$searchContainer=n,this.$search=n.find("input"),i.prepend(n),i},i.prototype.bind=function(t,i,n){var r=this;t.call(this,i,n),this.$search.on("keydown",function(e){r.trigger("keypress",e),r._keyUpPrevented=e.isDefaultPrevented()}),this.$search.on("input",function(t){e(this).off("keyup")}),this.$search.on("keyup input",function(e){r.handleSearch(e)}),i.on("open",function(){r.$search.attr("tabindex",0),r.$search.focus(),window.setTimeout(function(){r.$search.focus()},0)}),i.on("close",function(){r.$search.attr("tabindex",-1),r.$search.val("")}),i.on("focus",function(){i.isOpen()&&r.$search.focus()}),i.on("results:all",function(e){null!=e.query.term&&""!==e.query.term||(r.showSearch(e)?r.$searchContainer.removeClass("czrSelect2-search--hide"):r.$searchContainer.addClass("czrSelect2-search--hide"))})},i.prototype.handleSearch=function(e){if(!this._keyUpPrevented){var t=this.$search.val();this.trigger("query",{term:t})}this._keyUpPrevented=!1},i.prototype.showSearch=function(e,t){return!0},i}),r.define("czrSelect2/dropdown/hidePlaceholder",[],function(){function e(e,t,i,n){this.placeholder=this.normalizePlaceholder(i.get("placeholder")),e.call(this,t,i,n)}return e.prototype.append=function(e,t){t.results=this.removePlaceholder(t.results),e.call(this,t)},e.prototype.normalizePlaceholder=function(e,t){return"string"==typeof t&&(t={id:"",text:t}),t},e.prototype.removePlaceholder=function(e,t){for(var i=t.slice(0),n=t.length-1;n>=0;n--){var r=t[n];this.placeholder.id===r.id&&i.splice(n,1)}return i},e}),r.define("czrSelect2/dropdown/infiniteScroll",["jquery"],function(e){function t(e,t,i,n){this.lastParams={},e.call(this,t,i,n),this.$loadingMore=this.createLoadingMore(),this.loading=!1}return t.prototype.append=function(e,t){this.$loadingMore.remove(),this.loading=!1,e.call(this,t),this.showLoadingMore(t)&&this.$results.append(this.$loadingMore)},t.prototype.bind=function(t,i,n){var r=this;t.call(this,i,n),i.on("query",function(e){r.lastParams=e,r.loading=!0}),i.on("query:append",function(e){r.lastParams=e,r.loading=!0}),this.$results.on("scroll",function(){var t=e.contains(document.documentElement,r.$loadingMore[0]);!r.loading&&t&&r.$results.offset().top+r.$results.outerHeight(!1)+50>=r.$loadingMore.offset().top+r.$loadingMore.outerHeight(!1)&&r.loadMore()})},t.prototype.loadMore=function(){this.loading=!0;var t=e.extend({},{page:1},this.lastParams);t.page++,this.trigger("query:append",t)},t.prototype.showLoadingMore=function(e,t){return t.pagination&&t.pagination.more},t.prototype.createLoadingMore=function(){var t=e('<li class="czrSelect2-results__option czrSelect2-results__option--load-more"role="treeitem" aria-disabled="true"></li>'),i=this.options.get("translations").get("loadingMore");return t.html(i(this.lastParams)),t},t}),r.define("czrSelect2/dropdown/attachBody",["jquery","../utils"],function(e,t){function i(t,i,n){this.$dropdownParent=n.get("dropdownParent")||e(document.body),t.call(this,i,n)}return i.prototype.bind=function(e,t,i){var n=this,r=!1;e.call(this,t,i),t.on("open",function(){n._showDropdown(),n._attachPositioningHandler(t),r||(r=!0,t.on("results:all",function(){n._positionDropdown(),n._resizeDropdown()}),t.on("results:append",function(){n._positionDropdown(),n._resizeDropdown()}))}),t.on("close",function(){n._hideDropdown(),n._detachPositioningHandler(t)}),this.$dropdownContainer.on("mousedown",function(e){e.stopPropagation()})},i.prototype.destroy=function(e){e.call(this),this.$dropdownContainer.remove()},i.prototype.position=function(e,t,i){t.attr("class",i.attr("class")),t.removeClass("czrSelect2"),t.addClass("czrSelect2-container--open"),t.css({position:"absolute",top:-999999}),this.$container=i},i.prototype.render=function(t){var i=e("<span></span>"),n=t.call(this);return i.append(n),this.$dropdownContainer=i,i},i.prototype._hideDropdown=function(e){this.$dropdownContainer.detach()},i.prototype._attachPositioningHandler=function(i,n){var r=this,o="scroll.czrSelect2."+n.id,s="resize.czrSelect2."+n.id,a="orientationchange.czrSelect2."+n.id,l=this.$container.parents().filter(t.hasScroll);l.each(function(){e(this).data("czrSelect2-scroll-position",{x:e(this).scrollLeft(),y:e(this).scrollTop()})}),l.on(o,function(t){var i=e(this).data("czrSelect2-scroll-position");e(this).scrollTop(i.y)}),e(window).on(o+" "+s+" "+a,function(e){r._positionDropdown(),r._resizeDropdown()})},i.prototype._detachPositioningHandler=function(i,n){var r="scroll.czrSelect2."+n.id,o="resize.czrSelect2."+n.id,s="orientationchange.czrSelect2."+n.id;this.$container.parents().filter(t.hasScroll).off(r),e(window).off(r+" "+o+" "+s)},i.prototype._positionDropdown=function(){var t=e(window),i=this.$dropdown.hasClass("czrSelect2-dropdown--above"),n=this.$dropdown.hasClass("czrSelect2-dropdown--below"),r=null,o=this.$container.offset();o.bottom=o.top+this.$container.outerHeight(!1);var s={height:this.$container.outerHeight(!1)};s.top=o.top,s.bottom=o.top+s.height;var a=this.$dropdown.outerHeight(!1),l=t.scrollTop(),c=t.scrollTop()+t.height(),d=l<o.top-a,u=c>o.bottom+a,p={left:o.left,top:s.bottom},h=this.$dropdownParent;"static"===h.css("position")&&(h=h.offsetParent());var f=h.offset();p.top-=f.top,p.left-=f.left,i||n||(r="below"),u||!d||i?!d&&u&&i&&(r="below"):r="above",("above"==r||i&&"below"!==r)&&(p.top=s.top-f.top-a),null!=r&&(this.$dropdown.removeClass("czrSelect2-dropdown--below czrSelect2-dropdown--above").addClass("czrSelect2-dropdown--"+r),this.$container.removeClass("czrSelect2-container--below czrSelect2-container--above").addClass("czrSelect2-container--"+r)),this.$dropdownContainer.css(p)},i.prototype._resizeDropdown=function(){var e={width:this.$container.outerWidth(!1)+"px"};this.options.get("dropdownAutoWidth")&&(e.minWidth=e.width,e.position="relative",e.width="auto"),this.$dropdown.css(e)},i.prototype._showDropdown=function(e){this.$dropdownContainer.appendTo(this.$dropdownParent),this._positionDropdown(),this._resizeDropdown()},i}),r.define("czrSelect2/dropdown/minimumResultsForSearch",[],function(){function e(e,t,i,n){this.minimumResultsForSearch=i.get("minimumResultsForSearch"),this.minimumResultsForSearch<0&&(this.minimumResultsForSearch=1/0),e.call(this,t,i,n)}return e.prototype.showSearch=function(e,t){return!(function e(t){for(var i=0,n=0;n<t.length;n++){var r=t[n];r.children?i+=e(r.children):i++}return i}(t.data.results)<this.minimumResultsForSearch)&&e.call(this,t)},e}),r.define("czrSelect2/dropdown/selectOnClose",[],function(){function e(){}return e.prototype.bind=function(e,t,i){var n=this;e.call(this,t,i),t.on("close",function(e){n._handleSelectOnClose(e)})},e.prototype._handleSelectOnClose=function(e,t){if(t&&null!=t.originalCzrSelect2Event){var i=t.originalCzrSelect2Event;if("select"===i._type||"unselect"===i._type)return}var n=this.getHighlightedResults();if(!(n.length<1)){var r=n.data("data");null!=r.element&&r.element.selected||null==r.element&&r.selected||this.trigger("select",{data:r})}},e}),r.define("czrSelect2/dropdown/closeOnSelect",[],function(){function e(){}return e.prototype.bind=function(e,t,i){var n=this;e.call(this,t,i),t.on("select",function(e){n._selectTriggered(e)}),t.on("unselect",function(e){n._selectTriggered(e)})},e.prototype._selectTriggered=function(e,t){var i=t.originalEvent;i&&i.ctrlKey||this.trigger("close",{originalEvent:i,originalCzrSelect2Event:t})},e}),r.define("czrSelect2/i18n/en",[],function(){return{errorLoading:function(){return"The results could not be loaded."},inputTooLong:function(e){var t=e.input.length-e.maximum,i="Please delete "+t+" character";return 1!=t&&(i+="s"),i},inputTooShort:function(e){return"Please enter "+(e.minimum-e.input.length)+" or more characters"},loadingMore:function(){return"Loading more results…"},maximumSelected:function(e){var t="You can only select "+e.maximum+" item";return 1!=e.maximum&&(t+="s"),t},noResults:function(){return"No results found"},searching:function(){return"Searching…"}}}),r.define("czrSelect2/defaults",["jquery","require","./results","./selection/single","./selection/multiple","./selection/placeholder","./selection/allowClear","./selection/search","./selection/eventRelay","./utils","./translation","./diacritics","./data/select","./data/array","./data/ajax","./data/tags","./data/tokenizer","./data/minimumInputLength","./data/maximumInputLength","./data/maximumSelectionLength","./dropdown","./dropdown/search","./dropdown/hidePlaceholder","./dropdown/infiniteScroll","./dropdown/attachBody","./dropdown/minimumResultsForSearch","./dropdown/selectOnClose","./dropdown/closeOnSelect","./i18n/en"],function(e,t,i,n,r,o,s,a,l,c,d,u,p,h,f,m,g,v,y,b,C,w,z,M,I,x,S,R,A){function k(){this.reset()}return k.prototype.apply=function(u){if(null==(u=e.extend(!0,{},this.defaults,u)).dataAdapter){if(null!=u.ajax?u.dataAdapter=f:null!=u.data?u.dataAdapter=h:u.dataAdapter=p,u.minimumInputLength>0&&(u.dataAdapter=c.Decorate(u.dataAdapter,v)),u.maximumInputLength>0&&(u.dataAdapter=c.Decorate(u.dataAdapter,y)),u.maximumSelectionLength>0&&(u.dataAdapter=c.Decorate(u.dataAdapter,b)),u.tags&&(u.dataAdapter=c.Decorate(u.dataAdapter,m)),null==u.tokenSeparators&&null==u.tokenizer||(u.dataAdapter=c.Decorate(u.dataAdapter,g)),null!=u.query){var A=t(u.amdBase+"compat/query");u.dataAdapter=c.Decorate(u.dataAdapter,A)}if(null!=u.initSelection){var k=t(u.amdBase+"compat/initSelection");u.dataAdapter=c.Decorate(u.dataAdapter,k)}}if(null==u.resultsAdapter&&(u.resultsAdapter=i,null!=u.ajax&&(u.resultsAdapter=c.Decorate(u.resultsAdapter,M)),null!=u.placeholder&&(u.resultsAdapter=c.Decorate(u.resultsAdapter,z)),u.selectOnClose&&(u.resultsAdapter=c.Decorate(u.resultsAdapter,S))),null==u.dropdownAdapter){if(u.multiple)u.dropdownAdapter=C;else{var O=c.Decorate(C,w);u.dropdownAdapter=O}if(0!==u.minimumResultsForSearch&&(u.dropdownAdapter=c.Decorate(u.dropdownAdapter,x)),u.closeOnSelect&&(u.dropdownAdapter=c.Decorate(u.dropdownAdapter,R)),null!=u.dropdownCssClass||null!=u.dropdownCss||null!=u.adaptDropdownCssClass){var E=t(u.amdBase+"compat/dropdownCss");u.dropdownAdapter=c.Decorate(u.dropdownAdapter,E)}u.dropdownAdapter=c.Decorate(u.dropdownAdapter,I)}if(null==u.selectionAdapter){if(u.multiple?u.selectionAdapter=r:u.selectionAdapter=n,null!=u.placeholder&&(u.selectionAdapter=c.Decorate(u.selectionAdapter,o)),u.allowClear&&(u.selectionAdapter=c.Decorate(u.selectionAdapter,s)),u.multiple&&(u.selectionAdapter=c.Decorate(u.selectionAdapter,a)),null!=u.containerCssClass||null!=u.containerCss||null!=u.adaptContainerCssClass){var P=t(u.amdBase+"compat/containerCss");u.selectionAdapter=c.Decorate(u.selectionAdapter,P)}u.selectionAdapter=c.Decorate(u.selectionAdapter,l)}if("string"==typeof u.language){if(u.language.indexOf("-")>0){var D=u.language.split("-")[0];u.language=[u.language,D]}else u.language=[u.language]}if(e.isArray(u.language)){var T=new d;u.language.push("en");for(var j=u.language,Z=0;Z<j.length;Z++){var H=j[Z],L={};try{L=d.loadPath(H)}catch(U){try{H=this.defaults.amdLanguageBase+H,L=d.loadPath(H)}catch(B){u.debug&&window.console&&console.warn&&console.warn('CzrSelect2: The language file for "'+H+'" could not be automatically loaded. A fallback will be used instead.');continue}}T.extend(L)}u.translations=T}else{var N=d.loadPath(this.defaults.amdLanguageBase+"en"),q=new d(u.language);q.extend(N),u.translations=q}return u},k.prototype.reset=function(){function t(e){return e.replace(/[^\u0000-\u007E]/g,function(e){return u[e]||e})}this.defaults={amdBase:"./",amdLanguageBase:"./i18n/",closeOnSelect:!0,debug:!1,dropdownAutoWidth:!1,escapeMarkup:c.escapeMarkup,language:A,matcher:function i(n,r){if("string"!=typeof n.term||""===n.term.trim())return r;if(r.children&&r.children.length>0){for(var o=e.extend(!0,{},r),s=r.children.length-1;s>=0;s--)null==i(n,r.children[s])&&o.children.splice(s,1);return o.children.length>0?o:i(n,o)}var a=t(r.text).toUpperCase(),l=t(n.term).toUpperCase();return a.indexOf(l)>-1?r:null},minimumInputLength:0,maximumInputLength:0,maximumSelectionLength:0,minimumResultsForSearch:0,selectOnClose:!1,sorter:function(e){return e},templateResult:function(e){return e.text},templateSelection:function(e){return e.text},theme:"default",width:"resolve"}},k.prototype.set=function(t,i){var n={};n[e.camelCase(t)]=i;var r=c._convertData(n);e.extend(this.defaults,r)},new k}),r.define("czrSelect2/options",["require","jquery","./defaults","./utils"],function(e,t,i,n){function r(t,r){if(this.options=t,null!=r&&this.fromElement(r),this.options=i.apply(this.options),r&&r.is("input")){var o=e(this.get("amdBase")+"compat/inputData");this.options.dataAdapter=n.Decorate(this.options.dataAdapter,o)}}return r.prototype.fromElement=function(e){var i=["czrSelect2"];null==this.options.multiple&&(this.options.multiple=e.prop("multiple")),null==this.options.disabled&&(this.options.disabled=e.prop("disabled")),null==this.options.language&&(e.prop("lang")?this.options.language=e.prop("lang").toLowerCase():e.closest("[lang]").prop("lang")&&(this.options.language=e.closest("[lang]").prop("lang"))),null==this.options.dir&&(e.prop("dir")?this.options.dir=e.prop("dir"):e.closest("[dir]").prop("dir")?this.options.dir=e.closest("[dir]").prop("dir"):this.options.dir="ltr"),e.prop("disabled",this.options.disabled),e.prop("multiple",this.options.multiple),e.data("czrSelect2Tags")&&(this.options.debug&&window.console&&console.warn&&console.warn('CzrSelect2: The `data-czrSelect2-tags` attribute has been changed to use the `data-data` and `data-tags="true"` attributes and will be removed in future versions of CzrSelect2.'),e.data("data",e.data("czrSelect2Tags")),e.data("tags",!0)),e.data("ajaxUrl")&&(this.options.debug&&window.console&&console.warn&&console.warn("CzrSelect2: The `data-ajax-url` attribute has been changed to `data-ajax--url` and support for the old attribute will be removed in future versions of CzrSelect2."),e.attr("ajax--url",e.data("ajaxUrl")),e.data("ajax--url",e.data("ajaxUrl")));var r={};r=t.fn.jquery&&"1."==t.fn.jquery.substr(0,2)&&e[0].dataset?t.extend(!0,{},e[0].dataset,e.data()):e.data();var o=t.extend(!0,{},r);for(var s in o=n._convertData(o))t.inArray(s,i)>-1||(t.isPlainObject(this.options[s])?t.extend(this.options[s],o[s]):this.options[s]=o[s]);return this},r.prototype.get=function(e){return this.options[e]},r.prototype.set=function(e,t){this.options[e]=t},r}),r.define("czrSelect2/core",["jquery","./options","./utils","./keys"],function(e,t,i,n){var r=function(e,i){null!=e.data("czrSelect2")&&e.data("czrSelect2").destroy(),this.$element=e,this.id=this._generateId(e),i=i||{},this.options=new t(i,e),r.__super__.constructor.call(this);var n=e.attr("tabindex")||0;e.data("old-tabindex",n),e.attr("tabindex","-1");var o=this.options.get("dataAdapter");this.dataAdapter=new o(e,this.options);var s=this.render();this._placeContainer(s);var a=this.options.get("selectionAdapter");this.selection=new a(e,this.options),this.$selection=this.selection.render(),this.selection.position(this.$selection,s);var l=this.options.get("dropdownAdapter");this.dropdown=new l(e,this.options),this.$dropdown=this.dropdown.render(),this.dropdown.position(this.$dropdown,s);var c=this.options.get("resultsAdapter");this.results=new c(e,this.options,this.dataAdapter),this.$results=this.results.render(),this.results.position(this.$results,this.$dropdown);var d=this;this._bindAdapters(),this._registerDomEvents(),this._registerDataEvents(),this._registerSelectionEvents(),this._registerDropdownEvents(),this._registerResultsEvents(),this._registerEvents(),this.dataAdapter.current(function(e){d.trigger("selection:update",{data:e})}),e.addClass("czrSelect2-hidden-accessible"),e.attr("aria-hidden","true"),this._syncAttributes(),e.data("czrSelect2",this)};return i.Extend(r,i.Observable),r.prototype._generateId=function(e){return"czrSelect2-"+(null!=e.attr("id")?e.attr("id"):null!=e.attr("name")?e.attr("name")+"-"+i.generateChars(2):i.generateChars(4)).replace(/(:|\.|\[|\]|,)/g,"")},r.prototype._placeContainer=function(e){e.insertAfter(this.$element);var t=this._resolveWidth(this.$element,this.options.get("width"));null!=t&&e.css("width",t)},r.prototype._resolveWidth=function(e,t){var i=/^width:(([-+]?([0-9]*\.)?[0-9]+)(px|em|ex|%|in|cm|mm|pt|pc))/i;if("resolve"==t){var n=this._resolveWidth(e,"style");return null!=n?n:this._resolveWidth(e,"element")}if("element"==t){var r=e.outerWidth(!1);return r<=0?"auto":r+"px"}if("style"==t){var o=e.attr("style");if("string"!=typeof o)return null;for(var s=o.split(";"),a=0,l=s.length;a<l;a+=1){var c=s[a].replace(/\s/g,"").match(i);if(null!==c&&c.length>=1)return c[1]}return null}return t},r.prototype._bindAdapters=function(){this.dataAdapter.bind(this,this.$container),this.selection.bind(this,this.$container),this.dropdown.bind(this,this.$container),this.results.bind(this,this.$container)},r.prototype._registerDomEvents=function(){var t=this;this.$element.on("change.czrSelect2",function(){t.dataAdapter.current(function(e){t.trigger("selection:update",{data:e})})}),this.$element.on("focus.czrSelect2",function(e){t.trigger("focus",e)}),this._syncA=i.bind(this._syncAttributes,this),this._syncS=i.bind(this._syncSubtree,this),this.$element[0].attachEvent&&this.$element[0].attachEvent("onpropertychange",this._syncA);var n=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver;null!=n?(this._observer=new n(function(i){e.each(i,t._syncA),e.each(i,t._syncS)}),this._observer.observe(this.$element[0],{attributes:!0,childList:!0,subtree:!1})):this.$element[0].addEventListener&&(this.$element[0].addEventListener("DOMAttrModified",t._syncA,!1),this.$element[0].addEventListener("DOMNodeInserted",t._syncS,!1),this.$element[0].addEventListener("DOMNodeRemoved",t._syncS,!1))},r.prototype._registerDataEvents=function(){var e=this;this.dataAdapter.on("*",function(t,i){e.trigger(t,i)})},r.prototype._registerSelectionEvents=function(){var t=this,i=["toggle","focus"];this.selection.on("toggle",function(){t.toggleDropdown()}),this.selection.on("focus",function(e){t.focus(e)}),this.selection.on("*",function(n,r){-1===e.inArray(n,i)&&t.trigger(n,r)})},r.prototype._registerDropdownEvents=function(){var e=this;this.dropdown.on("*",function(t,i){e.trigger(t,i)})},r.prototype._registerResultsEvents=function(){var e=this;this.results.on("*",function(t,i){e.trigger(t,i)})},r.prototype._registerEvents=function(){var e=this;this.on("open",function(){e.$container.addClass("czrSelect2-container--open")}),this.on("close",function(){e.$container.removeClass("czrSelect2-container--open")}),this.on("enable",function(){e.$container.removeClass("czrSelect2-container--disabled")}),this.on("disable",function(){e.$container.addClass("czrSelect2-container--disabled")}),this.on("blur",function(){e.$container.removeClass("czrSelect2-container--focus")}),this.on("query",function(t){e.isOpen()||e.trigger("open",{}),this.dataAdapter.query(t,function(i){e.trigger("results:all",{data:i,query:t})})}),this.on("query:append",function(t){this.dataAdapter.query(t,function(i){e.trigger("results:append",{data:i,query:t})})}),this.on("keypress",function(t){var i=t.which;e.isOpen()?i===n.ESC||i===n.TAB||i===n.UP&&t.altKey?(e.close(),t.preventDefault()):i===n.ENTER?(e.trigger("results:select",{}),t.preventDefault()):i===n.SPACE&&t.ctrlKey?(e.trigger("results:toggle",{}),t.preventDefault()):i===n.UP?(e.trigger("results:previous",{}),t.preventDefault()):i===n.DOWN&&(e.trigger("results:next",{}),t.preventDefault()):(i===n.ENTER||i===n.SPACE||i===n.DOWN&&t.altKey)&&(e.open(),t.preventDefault())})},r.prototype._syncAttributes=function(){this.options.set("disabled",this.$element.prop("disabled")),this.options.get("disabled")?(this.isOpen()&&this.close(),this.trigger("disable",{})):this.trigger("enable",{})},r.prototype._syncSubtree=function(e,t){var i=!1,n=this;if(!e||!e.target||"OPTION"===e.target.nodeName||"OPTGROUP"===e.target.nodeName){if(t){if(t.addedNodes&&t.addedNodes.length>0)for(var r=0;r<t.addedNodes.length;r++)t.addedNodes[r].selected&&(i=!0);else t.removedNodes&&t.removedNodes.length>0&&(i=!0)}else i=!0;i&&this.dataAdapter.current(function(e){n.trigger("selection:update",{data:e})})}},r.prototype.trigger=function(e,t){var i=r.__super__.trigger,n={open:"opening",close:"closing",select:"selecting",unselect:"unselecting"};if(void 0===t&&(t={}),e in n){var o=n[e],s={prevented:!1,name:e,args:t};if(i.call(this,o,s),s.prevented)return void(t.prevented=!0)}i.call(this,e,t)},r.prototype.toggleDropdown=function(){this.options.get("disabled")||(this.isOpen()?this.close():this.open())},r.prototype.open=function(){this.isOpen()||this.trigger("query",{})},r.prototype.close=function(){this.isOpen()&&this.trigger("close",{})},r.prototype.isOpen=function(){return this.$container.hasClass("czrSelect2-container--open")},r.prototype.hasFocus=function(){return this.$container.hasClass("czrSelect2-container--focus")},r.prototype.focus=function(e){this.hasFocus()||(this.$container.addClass("czrSelect2-container--focus"),this.trigger("focus",{}))},r.prototype.enable=function(e){this.options.get("debug")&&window.console&&console.warn&&console.warn('CzrSelect2: The `czrSelect2("enable")` method has been deprecated and will be removed in later CzrSelect2 versions. Use $element.prop("disabled") instead.'),null!=e&&0!==e.length||(e=[!0]);var t=!e[0];this.$element.prop("disabled",t)},r.prototype.data=function(){this.options.get("debug")&&arguments.length>0&&window.console&&console.warn&&console.warn('CzrSelect2: Data can no longer be set using `czrSelect2("data")`. You should consider setting the value instead using `$element.val()`.');var e=[];return this.dataAdapter.current(function(t){e=t}),e},r.prototype.val=function(t){if(this.options.get("debug")&&window.console&&console.warn&&console.warn('CzrSelect2: The `czrSelect2("val")` method has been deprecated and will be removed in later CzrSelect2 versions. Use $element.val() instead.'),null==t||0===t.length)return this.$element.val();var i=t[0];e.isArray(i)&&(i=e.map(i,function(e){return e.toString()})),this.$element.val(i).trigger("change")},r.prototype.destroy=function(){this.$container.remove(),this.$element[0].detachEvent&&this.$element[0].detachEvent("onpropertychange",this._syncA),null!=this._observer?(this._observer.disconnect(),this._observer=null):this.$element[0].removeEventListener&&(this.$element[0].removeEventListener("DOMAttrModified",this._syncA,!1),this.$element[0].removeEventListener("DOMNodeInserted",this._syncS,!1),this.$element[0].removeEventListener("DOMNodeRemoved",this._syncS,!1)),this._syncA=null,this._syncS=null,this.$element.off(".czrSelect2"),this.$element.attr("tabindex",this.$element.data("old-tabindex")),this.$element.removeClass("czrSelect2-hidden-accessible"),this.$element.attr("aria-hidden","false"),this.$element.removeData("czrSelect2"),this.dataAdapter.destroy(),this.selection.destroy(),this.dropdown.destroy(),this.results.destroy(),this.dataAdapter=null,this.selection=null,this.dropdown=null,this.results=null},r.prototype.render=function(){var t=e('<span class="czrSelect2 czrSelect2-container"><span class="selection"></span><span class="dropdown-wrapper" aria-hidden="true"></span></span>');return t.attr("dir",this.options.get("dir")),this.$container=t,this.$container.addClass("czrSelect2-container--"+this.options.get("theme")),t.data("element",this.$element),t},r}),r.define("jquery-mousewheel",["jquery"],function(e){return e}),r.define("jquery.czrSelect2",["jquery","jquery-mousewheel","./czrSelect2/core","./czrSelect2/defaults"],function(e,t,i,n){if(null==e.fn.czrSelect2){var r=["open","close","destroy"];e.fn.czrSelect2=function(t){if("object"==typeof(t=t||{}))return this.each(function(){var n=e.extend(!0,{},t);new i(e(this),n)}),this;if("string"==typeof t){var n,o=Array.prototype.slice.call(arguments,1);return this.each(function(){var i=e(this).data("czrSelect2");null==i&&window.console&&console.error&&console.error("The czrSelect2('"+t+"') method was called on an element that is not using CzrSelect2."),n=i[t].apply(i,o)}),e.inArray(t,r)>-1?this:n}throw Error("Invalid arguments for CzrSelect2: "+t)}}return null==e.fn.czrSelect2.defaults&&(e.fn.czrSelect2.defaults=n),i}),{define:r.define,require:r.require}}(),i=t.require("jquery.czrSelect2");return e.fn.czrSelect2.amd=t,i}),function(e){"use strict";"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof exports?module.exports=e(require("jquery")):e(jQuery)}(function(e){"use strict";function t(e){return e&&(0===e.offsetWidth||0===e.offsetHeight||!1===e.open)}function i(e,i){function n(e){void 0!==e.open&&(e.open=!e.open)}var r=function e(i){for(var n=[],r=i.parentNode;t(r);)n.push(r),r=r.parentNode;return n}(e),o=r.length,s=[],a=e[i];if(o){for(var l=0;l<o;l++)s[l]=r[l].style.cssText,r[l].style.setProperty?r[l].style.setProperty("display","block","important"):r[l].style.cssText+=";display: block !important",r[l].style.height="0",r[l].style.overflow="hidden",r[l].style.visibility="hidden",n(r[l]);a=e[i];for(var c=0;c<o;c++)r[c].style.cssText=s[c],n(r[c])}return a}function n(e,t){var i=parseFloat(e);return Number.isNaN(i)?t:i}function r(e){return e.charAt(0).toUpperCase()+e.substr(1)}function o(t,i){if(this.$window=e(window),this.$document=e(document),this.$element=e(t),this.options=e.extend({},d,i),this.polyfill=this.options.polyfill,this.orientation=this.$element[0].getAttribute("data-orientation")||this.options.orientation,this.onInit=this.options.onInit,this.onSlide=this.options.onSlide,this.onSlideEnd=this.options.onSlideEnd,this.DIMENSION=u.orientation[this.orientation].dimension,this.DIRECTION=u.orientation[this.orientation].direction,this.DIRECTION_STYLE=u.orientation[this.orientation].directionStyle,this.COORDINATE=u.orientation[this.orientation].coordinate,this.polyfill&&c)return!1;this.identifier="js-"+a+"-"+l++,this.startEvent=this.options.startEvent.join("."+this.identifier+" ")+"."+this.identifier,this.moveEvent=this.options.moveEvent.join("."+this.identifier+" ")+"."+this.identifier,this.endEvent=this.options.endEvent.join("."+this.identifier+" ")+"."+this.identifier,this.toFixed=(this.step+"").replace(".","").length-1,this.$fill=e('<div class="'+this.options.fillClass+'" />'),this.$handle=e('<div class="'+this.options.handleClass+'" />'),this.$range=e('<div class="'+this.options.rangeClass+" "+this.options[this.orientation+"Class"]+'" id="'+this.identifier+'" />').insertAfter(this.$element).prepend(this.$fill,this.$handle),this.$element.css({position:"absolute",width:"1px",height:"1px",overflow:"hidden",opacity:"0"}),this.handleDown=e.proxy(this.handleDown,this),this.handleMove=e.proxy(this.handleMove,this),this.handleEnd=e.proxy(this.handleEnd,this),this.init();var n,r=this,o=20;this.$window.on("resize."+this.identifier,(n=function(){(function e(t,i){var n=Array.prototype.slice.call(arguments,2);return setTimeout(function(){return t.apply(null,n)},300)})(function(){r.update(!1,!1)},300)},o=o||100,function(){if(!n.debouncing){var e=Array.prototype.slice.apply(arguments);n.lastReturnVal=n.apply(window,e),n.debouncing=!0}return clearTimeout(n.debounceTimeout),n.debounceTimeout=setTimeout(function(){n.debouncing=!1},o),n.lastReturnVal})),this.$document.on(this.startEvent,"#"+this.identifier+":not(."+this.options.disabledClass+")",this.handleDown),this.$element.on("change."+this.identifier,function(e,t){if(!t||t.origin!==r.identifier){var i=e.target.value,n=r.getPositionFromValue(i);r.setPosition(n)}})}Number.isNaN=Number.isNaN||function(e){return"number"==typeof e&&e!=e};var s,a="rangeslider",l=0,c=((s=document.createElement("input")).setAttribute("type","range"),"text"!==s.type),d={polyfill:!0,orientation:"horizontal",rangeClass:"rangeslider",disabledClass:"rangeslider--disabled",activeClass:"rangeslider--active",horizontalClass:"rangeslider--horizontal",verticalClass:"rangeslider--vertical",fillClass:"rangeslider__fill",handleClass:"rangeslider__handle",startEvent:["mousedown","touchstart","pointerdown"],moveEvent:["mousemove","touchmove","pointermove"],endEvent:["mouseup","touchend","pointerup"]},u={orientation:{horizontal:{dimension:"width",direction:"left",directionStyle:"left",coordinate:"x"},vertical:{dimension:"height",direction:"top",directionStyle:"bottom",coordinate:"y"}}};return o.prototype.init=function(){this.update(!0,!1),this.onInit&&"function"==typeof this.onInit&&this.onInit()},o.prototype.update=function(e,t){(e=e||!1)&&(this.min=n(this.$element[0].getAttribute("min"),0),this.max=n(this.$element[0].getAttribute("max"),100),this.value=n(this.$element[0].value,Math.round(this.min+(this.max-this.min)/2)),this.step=n(this.$element[0].getAttribute("step"),1)),this.handleDimension=i(this.$handle[0],"offset"+r(this.DIMENSION)),this.rangeDimension=i(this.$range[0],"offset"+r(this.DIMENSION)),this.maxHandlePos=this.rangeDimension-this.handleDimension,this.grabPos=this.handleDimension/2,this.position=this.getPositionFromValue(this.value),this.$element[0].disabled?this.$range.addClass(this.options.disabledClass):this.$range.removeClass(this.options.disabledClass),this.setPosition(this.position,t)},o.prototype.handleDown=function(e){if(e.preventDefault(),!(e.button&&0!==e.button||(this.$document.on(this.moveEvent,this.handleMove),this.$document.on(this.endEvent,this.handleEnd),this.$range.addClass(this.options.activeClass),(" "+e.target.className+" ").replace(/[\n\t]/g," ").indexOf(this.options.handleClass)>-1))){var t=this.getRelativePosition(e),i=this.$range[0].getBoundingClientRect()[this.DIRECTION],n=this.getPositionFromNode(this.$handle[0])-i,r="vertical"===this.orientation?this.maxHandlePos-(t-this.grabPos):t-this.grabPos;this.setPosition(r),t>=n&&t<n+this.handleDimension&&(this.grabPos=t-n)}},o.prototype.handleMove=function(e){e.preventDefault();var t=this.getRelativePosition(e),i="vertical"===this.orientation?this.maxHandlePos-(t-this.grabPos):t-this.grabPos;this.setPosition(i)},o.prototype.handleEnd=function(e){e.preventDefault(),this.$document.off(this.moveEvent,this.handleMove),this.$document.off(this.endEvent,this.handleEnd),this.$range.removeClass(this.options.activeClass),this.$element.trigger("change",{origin:this.identifier}),this.onSlideEnd&&"function"==typeof this.onSlideEnd&&this.onSlideEnd(this.position,this.value)},o.prototype.cap=function(e,t,i){return e<t?t:e>i?i:e},o.prototype.setPosition=function(e,t){var i,n;void 0===t&&(t=!0),i=this.getValueFromPosition(this.cap(e,0,this.maxHandlePos)),n=this.getPositionFromValue(i),this.$fill[0].style[this.DIMENSION]=n+this.grabPos+"px",this.$handle[0].style[this.DIRECTION_STYLE]=n+"px",this.setValue(i),this.position=n,this.value=i,t&&this.onSlide&&"function"==typeof this.onSlide&&this.onSlide(n,i)},o.prototype.getPositionFromNode=function(e){for(var t=0;null!==e;)t+=e.offsetLeft,e=e.offsetParent;return t},o.prototype.getRelativePosition=function(e){var t=r(this.COORDINATE),i=this.$range[0].getBoundingClientRect()[this.DIRECTION],n=0;return void 0!==e.originalEvent["client"+t]?n=e.originalEvent["client"+t]:e.originalEvent.touches&&e.originalEvent.touches[0]&&void 0!==e.originalEvent.touches[0]["client"+t]?n=e.originalEvent.touches[0]["client"+t]:e.currentPoint&&void 0!==e.currentPoint[this.COORDINATE]&&(n=e.currentPoint[this.COORDINATE]),n-i},o.prototype.getPositionFromValue=function(e){var t;return Number.isNaN(t=(e-this.min)/(this.max-this.min))?0:t*this.maxHandlePos},o.prototype.getValueFromPosition=function(e){var t,i;return t=e/(this.maxHandlePos||1),Number((i=this.step*Math.round(t*(this.max-this.min)/this.step)+this.min).toFixed(this.toFixed))},o.prototype.setValue=function(e){e===this.value&&""!==this.$element[0].value||this.$element.val(e).trigger("input",{origin:this.identifier})},o.prototype.destroy=function(){this.$document.off("."+this.identifier),this.$window.off("."+this.identifier),this.$element.off("."+this.identifier).removeAttr("style").removeData("plugin_"+a),this.$range&&this.$range.length&&this.$range[0].parentNode.removeChild(this.$range[0])},e.fn[a]=function(t){var i=Array.prototype.slice.call(arguments,1);return this.each(function(){var n=e(this),r=n.data("plugin_"+a);r||n.data("plugin_"+a,r=new o(this,t)),"string"==typeof t&&r[t].apply(r,i)})},"rangeslider.js is available in jQuery context e.g $(selector).rangeslider(options);"}),function(e){if(!e.wp.wpColorPicker.prototype._hasAlpha){var t,i="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAIAAAHnlligAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAHJJREFUeNpi+P///4EDBxiAGMgCCCAGFB5AADGCRBgYDh48CCRZIJS9vT2QBAggFBkmBiSAogxFBiCAoHogAKIKAlBUYTELAiAmEtABEECk20G6BOmuIl0CIMBQ/IEMkO0myiSSraaaBhZcbkUOs0HuBwDplz5uFJ3Z4gAAAABJRU5ErkJggg==",n='<div class="wp-picker-holder" />',r='<div class="wp-picker-container" />',o='<input type="button" class="button button-small" />',s=void 0!==nb_wpColorPickerL10n.current;if(s)t='<a tabindex="0" class="wp-color-result" />';else{t='<button type="button" class="button wp-color-result" aria-expanded="false"><span class="wp-color-result-text"></span></button>';var a="<label></label>",l='<span class="screen-reader-text"></span>'}Color.fn.toString=function(){if(this._alpha<1)return this.toCSS("rgba",this._alpha).replace(/\s+/g,"");var e=parseInt(this._color,10).toString(16);return this.error?"":(e.length<6&&(e=("00000"+e).substr(-6)),"#"+e)},e.widget("wp.wpColorPicker",e.wp.wpColorPicker,{_hasAlpha:!0,_create:function(){if(e.support.iris){var c=this,d=c.element;if(e.extend(c.options,d.data()),"hue"===c.options.type)return c._createHueOnly();c.close=e.proxy(c.close,c),c.initialValue=d.val(),d.addClass("wp-color-picker"),s?(d.hide().wrap(r),c.wrap=d.parent(),c.toggler=e(t).insertBefore(d).css({backgroundColor:c.initialValue}).attr("title",nb_wpColorPickerL10n.pick).attr("data-current",nb_wpColorPickerL10n.current),c.pickerContainer=e(n).insertAfter(d),c.button=e(o).addClass("hidden")):(d.parent("label").length||(d.wrap(a),c.wrappingLabelText=e(l).insertBefore(d).text(nb_wpColorPickerL10n.defaultLabel)),c.wrappingLabel=d.parent(),c.wrappingLabel.wrap(r),c.wrap=c.wrappingLabel.parent(),c.toggler=e(t).insertBefore(c.wrappingLabel).css({backgroundColor:c.initialValue}),c.toggler.find(".wp-color-result-text").text(nb_wpColorPickerL10n.pick),c.pickerContainer=e(n).insertAfter(c.wrappingLabel),c.button=e(o)),c.options.defaultColor?(c.button.addClass("wp-picker-default").val(nb_wpColorPickerL10n.defaultString),s||c.button.attr("aria-label",nb_wpColorPickerL10n.defaultAriaLabel)):(c.button.addClass("wp-picker-clear").val(nb_wpColorPickerL10n.clear),s||c.button.attr("aria-label",nb_wpColorPickerL10n.clearAriaLabel)),s?d.wrap('<span class="wp-picker-input-wrap" />').after(c.button):(c.wrappingLabel.wrap('<span class="wp-picker-input-wrap hidden" />').after(c.button),c.inputWrapper=d.closest(".wp-picker-input-wrap")),d.iris({target:c.pickerContainer,hide:c.options.hide,width:c.options.width,mode:c.options.mode,palettes:c.options.palettes,change:function(e,t){c.options.alpha?(c.toggler.css({"background-image":"url("+i+")"}),s?c.toggler.html('<span class="color-alpha" />'):(c.toggler.css({position:"relative"}),0==c.toggler.find("span.color-alpha").length&&c.toggler.append('<span class="color-alpha" />')),c.toggler.find("span.color-alpha").css({width:"30px",height:"100%",position:"absolute",top:0,left:0,"border-top-left-radius":"2px","border-bottom-left-radius":"2px",background:t.color.toString()})):c.toggler.css({backgroundColor:t.color.toString()}),"function"==typeof c.options.change&&c.options.change.call(this,e,t)}}),d.val(c.initialValue),c._addListeners(),c.options.hide||c.toggler.trigger("click"),d.on("czr-colorpicker-close",function(){c.toggler.hasClass("wp-picker-open")&&c.close()})}},_addListeners:function(){var t=this;t.wrap.on("click.wpcolorpicker",function(e){e.stopPropagation()}),t.toggler.on("click",function(){t.toggler.hasClass("wp-picker-open")?t.close():t.open()}),t.element.on("change",function(i){(""===e(this).val()||t.element.hasClass("iris-error"))&&(t.options.alpha?(s&&t.toggler.removeAttr("style"),t.toggler.find("span.color-alpha").css("backgroundColor","")):t.toggler.css("backgroundColor",""),"function"==typeof t.options.clear&&t.options.clear.call(this,i))}),t.button.on("click",function(i){e(this).hasClass("wp-picker-clear")?(t.element.val(""),t.options.alpha?(s&&t.toggler.removeAttr("style"),t.toggler.find("span.color-alpha").css("backgroundColor","")):t.toggler.css("backgroundColor",""),"function"==typeof t.options.clear&&t.options.clear.call(this,i)):e(this).hasClass("wp-picker-default")&&t.element.val(t.options.defaultColor).trigger("change")})},open:function(){e("body").find(".wp-color-picker").not(this.element).each(function(){e(this).trigger("czr-colorpicker-close")}),this.element.iris("toggle"),this.inputWrapper.removeClass("hidden"),this.wrap.addClass("wp-picker-active"),this.toggler.addClass("wp-picker-open").attr("aria-expanded","true")},close:function(){try{this.element.iris("toggle")}catch(e){console.log("color-picker => error on ::close()",e)}this.inputWrapper.addClass("hidden"),this.wrap.removeClass("wp-picker-active"),this.toggler.removeClass("wp-picker-open").attr("aria-expanded","false")}}),e.widget("a8c.iris",e.a8c.iris,{_create:function(){if(this._super(),this.options.alpha=this.element.data("alpha")||!1,this.element.is(":input")||(this.options.alpha=!1),void 0!==this.options.alpha&&this.options.alpha){var t=this,i=t.element,n=e('<div class="iris-strip iris-slider iris-alpha-slider"><div class="iris-slider-offset iris-slider-offset-alpha"></div></div>').appendTo(t.picker.find(".iris-picker-inner")),r={aContainer:n,aSlider:n.find(".iris-slider-offset-alpha")};void 0!==i.data("custom-width")?t.options.customWidth=parseInt(i.data("custom-width"))||0:t.options.customWidth=100,t.options.defaultWidth=i.width(),(t._color._alpha<1||-1!=t._color.toString().indexOf("rgb"))&&i.width(parseInt(t.options.defaultWidth+t.options.customWidth)),e.each(r,function(e,i){t.controls[e]=i}),t.controls.square.css({"margin-right":"0"});var o=t.picker.width()-t.controls.square.width()-20,s=o/6,a=o/2-s;e.each(["aContainer","strip"],function(e,i){t.controls[i].width(a).css({"margin-left":s+"px"})}),t._initControls(),t._change()}},_initControls:function(){if(this._super(),this.options.alpha){var e=this;e.controls.aSlider.slider({orientation:"vertical",min:0,max:100,step:1,value:parseInt(100*e._color._alpha),slide:function(t,i){e._color._alpha=parseFloat(i.value/100),e._change.apply(e,arguments)}})}},_change:function(){this._super();var e=this,t=e.element;if(this.options.alpha){var n=e.controls,r=parseInt(100*e._color._alpha),o=e._color.toRgb(),s=["rgb("+o.r+","+o.g+","+o.b+") 0%","rgba("+o.r+","+o.g+","+o.b+", 0) 100%"],a=e.options.defaultWidth,l=e.options.customWidth,c=e.picker.closest(".wp-picker-container").find(".wp-color-result");n.aContainer.css({background:"linear-gradient(to bottom, "+s.join(", ")+"), url("+i+")"}),c.hasClass("wp-picker-open")&&(n.aSlider.slider("value",r),e._color._alpha<1?(n.strip.attr("style",n.strip.attr("style").replace(/rgba\(([0-9]+,)(\s+)?([0-9]+,)(\s+)?([0-9]+)(,(\s+)?[0-9\.]+)\)/g,"rgb($1$3$5)")),t.width(parseInt(a+l))):t.width(a))}t.data("reset-alpha")&&e.picker.find(".iris-palette-container").on("click.palette",".iris-palette",function(){e._color._alpha=1,e.active="external",e._change()})},_addInputListeners:function(e){var t=this,i=function(i){var n=new Color(e.val()),r=e.val();e.removeClass("iris-error"),n.error?""!==r&&e.addClass("iris-error"):n.toString()!==t._color.toString()&&("keyup"===i.type&&r.match(/^[0-9a-fA-F]{3}$/)||t._setOption("color",n.toString()))};e.on("change",i).on("keyup",t._debounce(i,100)),t.options.hide&&e.on("focus",function(){t.show()})}})}}(jQuery),function(e,t,i){e.bind("ready",function(){e.previewedDevice&&e.previewedDevice.bind(function(t){e.previewer.send("previewed-device",t)})})}(wp.customize,jQuery,_),function(e,t,i){var n=function(e){var t,n=Array.from((e=i.extend({bgCol:"#5ed1f5",textCol:"#000",consoleArguments:[]},e)).consoleArguments);return["%c "+(t=n=i.isEmpty(i.filter(n,function(e){return!i.isString(e)}))?n.join(" "):JSON.stringify(n.join(" ")),i.isString(t)?t.length>300?t.substr(0,299)+"...":t:""),["background:"+e.bgCol,"color:"+e.textCol,"display: block;"].join(";")]},r=function(e,t,r){i.isUndefined(console)&&"function"!=typeof window.console.log||(serverControlParams.isDevMode?i.isUndefined(t)?console.log.apply(console,n({bgCol:r,textCol:"#000",consoleArguments:["<"+e+">"]})):(console.log.apply(console,n({bgCol:r,textCol:"#000",consoleArguments:["<"+e+">"]})),console.log(t),console.log.apply(console,n({bgCol:r,textCol:"#000",consoleArguments:["</"+e+">"]}))):console.log.apply(console,n({bgCol:r,textCol:"#000",consoleArguments:[e]})))};e.consoleLog=function(){serverControlParams.isDevMode&&(i.isUndefined(console)&&"function"!=typeof window.console.log||(console.log.apply(console,n({consoleArguments:arguments})),console.log("Unstyled console message : ",arguments)))},e.errorLog=function(){i.isUndefined(console)&&"function"!=typeof window.console.log||console.log.apply(console,n({bgCol:"#ffd5a0",textCol:"#000",consoleArguments:arguments}))},e.errare=function(e,t){r(e,t,"#ffd5a0")},e.infoLog=function(e,t){r(e,t,"#5ed1f5")},e.czr_isChangeSetOn=function(){return serverControlParams.isChangeSetOn&&!0}}(wp.customize,jQuery,_),function(e,t,i){e.bind("ready",function(){var n=function(){i.isUndefined(window.themeServerControlParams)||i.isUndefined(themeServerControlParams.isThemeSwitchOn)||themeServerControlParams.isThemeSwitchOn||(e.panel("themes").active.callbacks=t.Callbacks(),e.panel("themes").active(themeServerControlParams.isThemeSwitchOn))};e.panel.has("themes")?n():e.panel.when("themes",function(e){n()})})}(wp.customize,jQuery,_),function(e,t,i){e.czr_activeSectionId=e.czr_activeSectionId||new e.Value(""),e.czr_activePanelId=e.czr_activePanelId||new e.Value(""),e.bind("ready",function(){if("function"!=typeof e.Section)throw Error("Your current version of WordPress does not support the customizer sections needed for this theme. Please upgrade WordPress to the latest version.");var t=function(t,i){e.czr_activeSectionId(t?i:"")};e.section.each(function(e){"publish_settings"!=e.id&&e.expanded.bind(function(i){t(i,e.id)})}),e.section.bind("add",function(e){"publish_settings"!=e.id&&e.expanded.bind(function(i){t(i,e.id)})});var n=function(t,n){e.czr_activePanelId(t?n:""),i.isEmpty(e.czr_activePanelId())&&e.czr_activeSectionId("")};e.panel.each(function(e){e.expanded.bind(function(t){n(t,e.id)})}),e.panel.bind("add",function(e){e.expanded.bind(function(t){n(t,e.id)})})})}(wp.customize,jQuery,_),function(e,t,i){e.bind("ready",function(){serverControlParams.paramsForDynamicRegistration,i.isObject(serverControlParams.paramsForDynamicRegistration)||e.errorLog("serverControlParams.paramsForDynamicRegistration should be an array"),i.each(serverControlParams.paramsForDynamicRegistration,function(t,i){if(t.module_registration_params&&!0===t.module_registration_params.dynamic_registration){if(serverControlParams.isDevMode)n(t);else try{n(t)}catch(r){e.errorLog(r)}}})});var n=function(t){if(t=i.extend({setting_id:"",module_type:"",option_value:[],setting:{},section:{id:"",title:""},control:{}},t),i.isEmpty(t.setting_id)||i.isEmpty(t.module_type))throw e.errare("registerDynamicModuleSettingControl => args",t),Error("registerDynamicModuleSettingControl => missing params when registrating a setting");if(!i.isArray(t.option_value)&&!i.isObject(t.option_value))throw Error("registerDynamicModuleSettingControl => the module values must be an array or an object");var n=t.setting_id,r=t.setting;e.CZR_Helpers.register({what:"setting",id:n,dirty:!i.isEmpty(t.option_value),value:t.option_value,transport:r.transport||"refresh",type:r.type||"option",track:!1});var o=t.section;if(!i.isEmpty(o)){if(!i.has(o,"id"))throw Error("registerDynamicModuleSettingControl => missing section id for the section of setting : "+n);e.CZR_Helpers.register({what:"section",id:o.id,title:o.title||o.id,panel:i.isEmpty(o.panel)?"":o.panel,priority:o.priority||10,track:!1})}var s,a=n,l=t.control;if(s=i.isEmpty(t.section)?l.section:t.section.id,i.isEmpty(s))throw e.errare("registerDynamicModuleSettingControl => missing section id for the control",t),Error("registerDynamicModuleSettingControl => missing section id for the section of setting : "+n);return e.CZR_Helpers.register({what:"control",id:a,label:l.label||a,type:"czr_module",module_type:t.module_type,section:s,priority:l.priority||10,settings:{default:n},track:!1}),e.section.has(s)&&e.section(s).expanded()&&e.control(a).trigger("set-module-ready"),n}}(wp.customize,jQuery,_),function(e,t,i){e.Value.prototype.set=function(n,r){var o=this._value,s=t.Deferred(),a=this,l=[];return(n=this._setter.apply(this,arguments),n=this.validate(n),args=i.extend({silent:!1},i.isObject(r)?r:{}),null===n||i.isEqual(o,n))?s.resolveWith(a,[n,o,r]).promise():(this._value=n,this._dirty=!0,!0===args.silent)?s.resolveWith(a,[n,o,r]).promise():this._deferreds?(i.each(a._deferreds,function(e){l.push(e.apply(null,[n,o,r]))}),t.when.apply(null,l).fail(function(){e.errorLog("A deferred callback failed in api.Value::set()")}).then(function(){a.callbacks.fireWith(a,[n,o,r]),s.resolveWith(a,[n,o,r])}),s.promise(a)):(this.callbacks.fireWith(this,[n,o,r]),s.resolveWith(a,[n,o,r]).promise(a))},e.Value.prototype.bind=function(){var e=this,n=!1,r=[];return t.each(arguments,function(e,t){n||(n=i.isObject(t)&&t.deferred),i.isFunction(t)&&r.push(t)}),n?(e._deferreds=e._deferreds||[],i.each(r,function(t){i.contains(t,e._deferreds)||e._deferreds.push(t)})):e.callbacks.add.apply(e.callbacks,arguments),this},e.Setting.prototype.silent_set=function(t,n){var r=this._value,o=e.state("saved")();return t=this._setter.apply(this,arguments),null===(t=this.validate(t))||i.isEqual(r,t)||(this._value=t,this._dirty=i.isUndefined(n)||!i.isBoolean(n)?this._dirty:n,this.callbacks.fireWith(this,[t,r,{silent:!0}]),e.state("saved")(o)),this}}(wp.customize,jQuery,_),function(e,t,i){e.Setting.prototype.preview=function(n,r,o){var s,a=t.Deferred();return(s=this.transport,!i.isUndefined(r)&&!i.isEmpty(r)&&!i.isNull(r)&&i.isObject(o)&&!0===o.not_preview_sent||i.has(o,"silent")&&!1!==o.silent)?a.resolve(arguments).promise():("postMessage"!==s||e.state("previewerAlive").get()||(s="refresh"),"postMessage"===s?(this.previewer.send("pre_setting",{set_id:this.id,data:o,value:n}),this.previewer.send("setting",[this.id,this()]),a.resolve(arguments)):"refresh"===s&&(this.previewer.refresh(),a.resolve(arguments)),a.promise())}}(wp.customize,jQuery,_),function(e,t,i){if("function"==typeof e.Section){var n=e.Section.prototype.initialize;e.Section.prototype.initialize=function(e,r){n.apply(this,[e,r]);var o=this;this.expanded.callbacks.add(function(e){if(e){var n=o.container.closest(".wp-full-overlay-sidebar-content"),r=o.container.find(".accordion-section-content");(_resizeContentHeight=function(){r.css("height",n.innerHeight())})(),t(window).on("resize.customizer-section",i.debounce(_resizeContentHeight,110))}})}}}(wp.customize,jQuery,_),function(e,t,i){e.CZR_Helpers=e.CZR_Helpers||{},e.CZR_Helpers=t.extend(e.CZR_Helpers,{setupInputCollectionFromDOM:function(){var n=this;if(!i.isFunction(n))throw Error("setupInputCollectionFromDOM => inputParentInst is not valid.");var r=n.module,o=i.has(n(),"is_mod_opt");if(i.isEmpty(n.inputCollection())){n.czr_Input=n.czr_Input||new e.Values,n.inputConstructor=o?r.inputModOptConstructor:r.inputConstructor;var s=o?n.defaultModOptModel:n.defaultItemModel;if(i.isEmpty(s)||i.isUndefined(s))throw Error("setupInputCollectionFromDOM => No default model found in item or mod opt "+n.id+".");var a=t.extend(!0,{},n());a=i.isObject(a)?t.extend(s,a):s;var l={};return t("."+r.control.css_attr.sub_set_wrapper,n.container).length<1&&e.errare("setupInputCollectionFromDOM => no input elements found in the DOM"),t("."+r.control.css_attr.sub_set_wrapper,n.container).each(function(s){var c=t(this).find("[data-czrtype]").attr("data-czrtype"),d=i.has(a,c)?a[c]:"";if(i.isUndefined(c)||i.isEmpty(c)){e.errare("setupInputCollectionFromDOM => missing data-czrtype id for input type "+t(this).data("input-type")+" in module "+r.id+". Check that the server input template is properly declared.");return}if(!i.has(a,c))throw Error("setupInputCollectionFromDOM => The item or mod opt property : "+c+" has been found in the DOM but not in the item or mod opt model : "+n.id+". The input can not be instantiated.");var u=t(this).data("input-type"),p=t(this).data("transport")||"inherit",h=i.has(r.inputOptions,u)?r.inputOptions[u]:{},f={id:c,type:u,transport:p,input_value:d,input_options:h,container:t(this),input_parent:n,is_mod_opt:o,module:r};e.trigger("input-args-before-instantiation",f),n.czr_Input.add(c,new n.inputConstructor(c,f)),n.czr_Input(c).ready(),l[c]=d}),n.inputCollection(l),n}}})}(wp.customize,jQuery,_),function(e,t,i){e.CZR_Helpers=e.CZR_Helpers||{},e.CZR_Helpers=t.extend(e.CZR_Helpers,{getModuleTmpl:function(n){var r=t.Deferred();if(n=i.extend({tmpl:"",module_type:"",module_id:"",cache:!0,nonce:e.settings.nonce.save},n),(i.isEmpty(n.tmpl)||i.isEmpty(n.module_type))&&r.reject("api.CZR_Helpers.getModuleTmpl => missing tmpl or module_type param"),e.CZR_Helpers.czr_cachedTmpl=e.CZR_Helpers.czr_cachedTmpl||{},e.CZR_Helpers.czr_cachedTmpl[n.module_type]=e.CZR_Helpers.czr_cachedTmpl[n.module_type]||{},!0===n.cache&&!i.isEmpty(e.CZR_Helpers.czr_cachedTmpl[n.module_type][n.tmpl])&&i.isString(e.CZR_Helpers.czr_cachedTmpl[n.module_type][n.tmpl]))r.resolve(e.CZR_Helpers.czr_cachedTmpl[n.module_type][n.tmpl]);else{if(i.isObject(e.CZR_Helpers.czr_cachedTmpl[n.module_type][n.tmpl])&&"pending"==e.CZR_Helpers.czr_cachedTmpl[n.module_type][n.tmpl].state())return e.CZR_Helpers.czr_cachedTmpl[n.module_type][n.tmpl];e.CZR_Helpers.czr_cachedTmpl[n.module_type][n.tmpl]=wp.ajax.post("ac_get_template",n).done(function(t){r.resolve(t),e.CZR_Helpers.czr_cachedTmpl[n.module_type][n.tmpl]=t}).fail(function(t){e.errare("api.CZR_Helpers.getModuleTmpl => Problem when fetching the "+n.tmpl+" tmpl from server for module : "+n.module_id+" "+n.module_type,t),r.reject(t),i.isObject(t)&&("invalid_nonce"===t.code||"Bad Request"===t.statusText)&&window.sektionsLocalizedData&&sektionsLocalizedData.i18n&&e.previewer.trigger("sek-notify",{type:"error",duration:3e4,message:sektionsLocalizedData.i18n["Something went wrong, please refresh this page."]})})}return r.promise()}})}(wp.customize,jQuery,_),function(e,t,i){e.CZR_Helpers=e.CZR_Helpers||{},e.CZR_Helpers=t.extend(e.CZR_Helpers,{register:function(n){if(!i.has(n,"id")){e.errare("register => missing id ",n);return}var r,o={};switch(n.what){case"setting":if(e.has(n.id))break;r=t.extend(!0,{},e.Setting.prototype.defaults);var s=i.extend(r,{dirty:!i.isUndefined(n.dirty)&&n.dirty,value:i.isUndefined(n.value)?null:n.value,transport:n.transport||"refresh",type:n.type||"option"}),a=e.settingConstructor[s.type]||e.Setting;i.isObject(n.options)&&(s=i.extend(s,n.options));try{e.add(new a(n.id,s.value,s))}catch(l){e.errare("api.CZR_Helpers::register => problem when adding a setting to the api",l)}break;case"panel":if(!i.has(n,"id"))throw Error("registerPanel => missing panel id ");if(e.panel.has(n.id))break;r=t.extend(!0,{},e.Panel.prototype.defaults);var c=i.extend(r,{id:n.id,title:n.title||n.id,priority:i.has(n,"priority")?n.priority:0}),d=i.isObject(n.constructWith)?n.constructWith:e.Panel;i.isObject(n.options)&&(c=i.extend(c,n.options)),c=i.extend({params:c},c);try{o=e.panel.add(new d(n.id,c))}catch(u){e.errare("api.CZR_Helpers::register => problem when adding a panel to the api",u)}break;case"section":if(!i.has(n,"id"))throw Error("registerSection => missing section id ");if(e.section.has(n.id))break;r=t.extend(!0,{},e.Section.prototype.defaults);var p=i.extend(r,{content:"",id:n.id,title:n.title,panel:n.panel,priority:n.priority,description_hidden:!1,customizeAction:serverControlParams.i18n.Customizing}),h=e.Section;i.isUndefined(n.constructWith)?!i.isEmpty(n.type)&&e.sectionConstructor[n.type]&&(h=e.sectionConstructor[n.type]):h=n.constructWith,i.isObject(n.options)&&(p=i.extend(p,n.options)),p=i.extend({params:p},p);try{o=e.section.add(new h(n.id,p))}catch(f){e.errare("api.CZR_Helpers::register => problem when adding a section to the api",f)}break;case"control":if(e.control.has(n.id))break;r=t.extend(!0,{},e.Control.prototype.defaults);var m,g=i.extend(r,{content:"",label:n.label||n.id,priority:n.priority,section:n.section,settings:n.settings,type:n.type,module_type:n.module_type,input_attrs:n.input_attrs,sek_registration_params:n}),v=e.controlConstructor[g.type]||e.Control;i.isObject(n.options)&&(g=i.extend(g,n.options)),m=i.extend({params:g},g);try{o=e.control.add(new v(n.id,m))}catch(y){e.errare("api.CZR_Helpers::register => problem when adding a control to the api",y)}break;default:e.errorLog('invalid "what" when invoking the register() method')}return o=i.isEmpty(o)?{deferred:{embedded:t.Deferred(function(){this.resolve()})}}:o,!1!==n.track&&e.trigger("czr-new-registered",n),"setting"==n.what?n:o.deferred.embedded}})}(wp.customize,jQuery,_),function(e,t,i){e.CZR_Helpers=e.CZR_Helpers||{},e.CZR_Helpers=t.extend(e.CZR_Helpers,{css_loader_html:'<div class="czr-css-loader czr-mr-loader" style="display:none"><div></div><div></div><div></div></div>',getControlSettingId:function(t,n){return(n="default",!e.control.has(t)||!i.has(e.control(t),"settings")||i.isEmpty(e.control(t).settings))?t:i.has(e.control(t).settings,n)?i.isUndefined(e.control(t).settings[n].id)?(e.consoleLog("getControlSettingId : The requested control_id has no setting id assigned : "+t),t):e.control(t).settings[n].id:(e.consoleLog("getControlSettingId : The requested control_id does not have the requested setting type : "+t+" , "+n),t)},getDocSearchLink:function(e){var t=(e=i.isString(e)?e:"").replace(/ /g,"+");return['<a href="'+[serverControlParams.docURL,"search?query=",t].join("")+'" title="'+serverControlParams.i18n.readDocumentation+'" target="_blank">'," ",'<span class="far fa-question-circle-o"></span>'].join("")},build_setId:function(e){return i.isUndefined(window.themeServerControlParams)||!i.isArray(themeServerControlParams.wpBuiltinSettings)||i.contains(themeServerControlParams.wpBuiltinSettings,e)||!i.contains(themeServerControlParams.themeSettingList,e)?e:-1==e.indexOf(themeServerControlParams.themeOptions)?[themeServerControlParams.themeOptions+"[",e,"]"].join(""):e},getOptionName:function(e){return i.isEmpty(window.themeServerControlParams)||i.isEmpty(themeServerControlParams.themeOptions)?e:-1==e.indexOf(themeServerControlParams.themeOptions)?e:e.replace(/\[|\]/g,"").replace(themeServerControlParams.themeOptions,"")},hasPartRefresh:function(t){if(i.has(e,"czr_partials"))return i.contains(i.map(e.czr_partials(),function(e,n){return i.contains(e.settings,t)}),!0)},getSectionControlIds:function(t){return t=t||e.czr_activeSectionId(),e.section.has(t)?i.map(e.section(t).controls(),function(e){return e.id}):[]},getSectionSettingIds:function(t){if(t=t||e.czr_activeSectionId(),e.section.has(t)){var n=[],r=this.getSectionControlIds(t);return i.each(r,function(t){i.each(e.control(t).settings,function(e,t){n.push(e.id)})}),n}},capitalize:function(e){return i.isString(e)?e.charAt(0).toUpperCase()+e.slice(1):e},truncate:function(e,t,n){if(!i.isString(e))return"";t=t||20;var r=e.length>t,o=r?e.substr(0,t-1):e;return o=n&&r?o.substr(0,o.lastIndexOf(" ")):o,r?o+"...":o},isMultiItemModule:function(t,n){if(!i.isUndefined(t)||i.isObject(n)){if(i.isObject(n)&&i.has(n,"module_type"))t=n.module_type;else if(i.isUndefined(t)||i.isNull(t))return;if(i.has(e.czrModuleMap,t))return e.czrModuleMap[t].crud||e.czrModuleMap[t].multi_item||!1}},isCrudModule:function(t,n){if(!i.isUndefined(t)||i.isObject(n)){if(i.isObject(n)&&i.has(n,"module_type"))t=n.module_type;else if(i.isUndefined(t)||i.isNull(t))return;if(i.has(e.czrModuleMap,t))return e.czrModuleMap[t].crud||!1}},hasModuleModOpt:function(t,n){if(!i.isUndefined(t)||i.isObject(n)){if(i.isObject(n)&&i.has(n,"module_type"))t=n.module_type;else if(i.isUndefined(t)||i.isNull(t))return;if(i.has(e.czrModuleMap,t))return e.czrModuleMap[t].has_mod_opt||!1}},removeInputCollection:function(){var e=this;if(!i.isFunction(e))throw Error("removeInputCollection : inputParentInst is not valid.");i.has(e,"czr_Input")&&(e.czr_Input.each(function(t){e.czr_Input.remove(t.id)}),e.inputCollection({}))},refreshModuleControl:function(i){var n=e.controlConstructor.czr_module,r=(e.control(i).params.type,e.settings.controls[i]);t.when(e.control(i).container.remove()).done(function(){e.control.remove(i),e.control.add(i,new n(i,{params:r,previewer:e.previewer}))})},isChecked:function(e){return i.isBoolean(e)?e:i.isNumber(e)?e>0:!!i.isString(e)&&"0"!==e&&""!==e&&"off"!==e},hexToRgb:function(t){try{t=t.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,function(e,t,i,n){return t+t+i+i+n+n})}catch(i){return e.errorLog("Error in Helpers::hexToRgb : "+i),t}var n=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t);return"rgb("+(n=n?[parseInt(n[1],16),parseInt(n[2],16),parseInt(n[3],16)]:[]).join(",")+")"},rgbToHex:function(e,t,i){var n=function(e){var t=e.toString(16);return 1==t.length?"0"+t:t};return"#"+n(e)+n(t)+n(i)},parseTemplate:i.memoize(function(e){var t,n={evaluate:/<#([\s\S]+?)#>/g,interpolate:/\{\{\{([\s\S]+?)\}\}\}/g,escape:/\{\{([^\}]+?)\}\}(?!\})/g,variable:"data"};return function(r){return(t=t||i.template(e,n))(r)}})})}(wp.customize,jQuery,_),function(e,t,i){e.CZR_Helpers=e.CZR_Helpers||{},e.CZR_Helpers=t.extend(e.CZR_Helpers,{addActions:function(e,t,n){(n=n||this)[e]=n[e]||[],new_event_map=i.clone(n[e]),n[e]=i.union(new_event_map,i.isArray(t)?t:[t])},doActions:function(e,t,i){t.trigger(e,i)},setupDOMListeners:function(n,r,o){var s=this;if(o=o||s,!i.isArray(n)){e.errare("setupDomListeners : event_map should be an array",r);return}if(!i.isObject(r)){e.errare("setupDomListeners : args should be an object",n);return}if(!((r=i.extend({model:{},dom_el:{}},r)).dom_el instanceof jQuery)||1>r.dom_el.length){e.errare("setupDomListeners : dom element should be an existing dom element",r);return}i.map(n,function(n){if(!i.isString(n.selector)||i.isEmpty(n.selector)||!i.isString(n.selector)||i.isEmpty(n.selector)){e.errare("setupDOMListeners : selector must be a string not empty. Aborting setup of action(s) : "+n.actions.join(","));return}var a=n.name&&!i.isEmpty(n.name)?n.name:[n.trigger,n.selector].join(""),l=r.dom_el.data("czr-listener-collection");if(l&&i.isArray(l)){if(l=i.isArray(l)?l:[],i.contains(l,a)){e.errare("setupDOMListeners : aborting because listener already created for event : "+a);return}l.push(a)}else l=[a];r.dom_el.data("czr-listener-collection",l),r.dom_el.on(n.trigger,n.selector,function(a,l){if(a.stopPropagation(),!e.utils.isKeydownButNotEnterEvent(a)){a.preventDefault();var c=t.extend(!0,{},r);if(i.has(c,"model")&&i.has(c.model,"id")&&(i.has(o,"get")?c.model=o():c.model=o.getModel(c.model.id)),t.extend(c,{event:n,dom_event:a}),t.extend(c,l),!i.has(c,"event")||!i.has(c.event,"actions")){e.errare("executeEventActionChain : missing obj.event or obj.event.actions");return}if(serverControlParams.isDevMode)s.executeEventActionChain(c,o);else try{s.executeEventActionChain(c,o)}catch(d){e.errare("In setupDOMListeners : problem when trying to fire actions : "+c.event.actions,d)}}})})},executeEventActionChain:function(e,t){var n=this;if("function"==typeof e.event.actions)return e.event.actions.call(t,e);i.isArray(e.event.actions)||(e.event.actions=[e.event.actions]);var r=!1;i.map(e.event.actions,function(o){if(!r){var s=function(){};if("function"==typeof o)s=o;else{if("function"!=typeof t[o])throw Error("executeEventActionChain : the action : "+o+" has not been found when firing event : "+e.event.selector);s=t[o]}var a=i.has(e,"dom_el")&&-1!=e.dom_el.length?e.dom_el:n.container;"string"==typeof o&&a.trigger("before_"+o,i.omit(e,"event")),!1===s.call(t,e)&&(r=!0),"string"==typeof o&&a.trigger("after_"+o,i.omit(e,"event"))}})}})}(wp.customize,jQuery,_),function(e,t,i){e.czr_wpQueryDataReady=e.czr_wpQueryDataReady||t.Deferred(),e.czr_wpQueryInfos=e.czr_wpQueryInfos||new e.Value,e.bind("ready",function(){e.previewer.bind("czr-query-data-ready",function(t){e.czr_wpQueryInfos(t),"pending"==e.czr_wpQueryDataReady.state()&&e.czr_wpQueryDataReady.resolve(t)}),e.previewer.bind("czr-partial-refresh-data",function(t){e.czr_partials=e.czr_partials||new e.Value,e.czr_partials.set(t)}),e.previewer.bind("czr-partial-refresh-done",function(t){if(i.has(t,"set_id")){var n=e.CZR_Helpers.build_setId(t.set_id);if(e.has(n)){var r=e.CZR_Helpers.getControlSettingId(n);e.control.has(r)&&e.control(r).trigger("czr-partial-refresh-done")}}})})}(wp.customize,jQuery,_);var wp,$,CZRInputMths=CZRInputMths||{};!function(e,t,i){t.extend(CZRInputMths,{initialize:function(n,r){if(i.isUndefined(r.input_parent)||i.isEmpty(r.input_parent))throw Error("No input_parent assigned to input "+r.id+". Aborting");if(i.isUndefined(r.module))throw Error("No module assigned to input "+r.id+". Aborting");e.Value.prototype.initialize.call(this,null,r);var o=this;if(t.extend(o,r||{}),o.constructorOptions=t.extend(!0,{},r),o.isReady=t.Deferred(),i.isUndefined(r.input_value)||o.set(r.input_value),o.input_event_map=[{trigger:["change",{text:"keyup",textarea:"keyup",password:"keyup",color:"colorpickerchange",range:"input propertychange"}[o.type]||""].join(" ").trim(),selector:"input[data-czrtype], select[data-czrtype], textarea[data-czrtype]",name:"set_input_value",actions:function(e){if(!i.has(o.input_parent,"syncElements")||!i.has(o.input_parent.syncElements,o.id))throw Error("WARNING : THE INPUT "+o.id+" HAS NO SYNCED ELEMENT.")}}],o[o.type]&&i.isFunction(o[o.type]))try{o[o.type](r.input_options||null)}catch(s){e.errare("Error in overriden callback method in input init => for input id :"+o.id+" in module type : "+o.module.module_type,s)}else if(e.czrInputMap&&i.has(e.czrInputMap,o.type)){var a=e.czrInputMap[o.type];if(i.isFunction(o[a]))try{o[a](r.input_options||null)}catch(l){e.errare("Error in input init => for input id :"+o.id+" in module type : "+o.module.module_type,l)}else if(i.isFunction(e.czrInputMap[o.type]))try{e.czrInputMap[o.type].apply(o,[r.input_options||null])}catch(c){e.errare("Error in input init => for input id :"+o.id+" in module type : "+o.module.module_type,c)}}else e.errare("Warning the input : "+o.id+" with type "+o.type+" has no corresponding method defined in api.czrInputMap.");o.visible=new e.Value(!0),o.isReady.done(function(){o.visible.bind(function(e){e?o.container.stop(!0,!0).slideDown(200):o.container.stop(!0,!0).slideUp(200)})}),o.enabled=new e.Value(!0),o.isReady.done(function(){o.enabled.bind(function(e){o.container.toggleClass("disabled",!e)})})},ready:function(){var e=this;e.setupDOMListeners(e.input_event_map,{dom_el:e.container},e),e.callbacks.add(function(){return e.inputReact.apply(e,arguments)}),t.when(e.setupSynchronizer()).done(function(){e.isReady.resolve(e)})},setupSynchronizer:function(){var t=this,i=t.input_parent,n=t.container.find("[data-czrtype]");t.container.find("[data-czrtype]").is("textarea");var r=new e.Element(n);i.syncElements=i.syncElements||{},i.syncElements[t.id]=r,r.sync(t),r.set(t())},inputReact:function(e,t,n){var r=this,o=r.input_parent(),s=i.clone(o),a=r.is_preItemInput;r.enabled()&&("inactive"===r.type||((s=!i.isObject(s)||i.isEmpty(s)?{}:s)[r.id]=e,r.input_parent.set(s,{input_changed:r.id,input_value:r(),input_transport:r.transport,not_preview_sent:"postMessage"===r.transport,inputRegistrationParams:r.constructorOptions}),a||(r.input_parent.trigger(r.id+":changed",e),i.isEmpty(t)&&(i.isUndefined(t)||"postMessage"!==r.transport)||r.module.sendInputToPreview({input_id:r.id,input_parent_id:r.input_parent.id,to:e,from:t}))))},setupColorPicker:function(){this.container.find("input").iris({palettes:!0,hide:!1,change:function(e,i){t(this).val(i.color.toString()).trigger("colorpickerchange").trigger("change")}})},setupColorPickerAlpha:function(){var e=this;e.container.find("input").wpColorPicker({palettes:!0,width:window.innerWidth>=1440?271:251,change:function(e,i){t(this).val(i.color.toString()).trigger("colorpickerchange").trigger("change")},clear:function(t,i){e("")}})},setupSelect:function(){t("select",this.container).not(".no-selecter-js").each(function(){t(this).selecter({})})},setupIcheck:function(e){t("input[type=checkbox]",this.container).each(function(e){0===t(this).closest('div[class^="icheckbox"]').length&&t(this).iCheck({checkboxClass:"icheckbox_flat-grey",checkedClass:"checked",radioClass:"iradio_flat-grey"}).on("ifChanged",function(e){t(this).val(!1===t(this).is(":checked")?0:1),t(e.currentTarget).trigger("change")})})},setupNimbleCheck:function(e){this.container.find("input[type=checkbox]"),t(".czr-toggle-check",this.container)},setupRadio:function(e){t("input[type=radio]",this.container).each(function(e){0===t(this).closest('div[class^="icheckbox"]').length&&t(this).iCheck({checkboxClass:"icheckbox_flat-grey",checkedClass:"checked",radioClass:"iradio_flat-grey"}).on("ifChanged",function(e){t(e.currentTarget).trigger("change")})})},setupStepper:function(e){t('input[type="number"]',this.container).each(function(e){t(this).stepper()})},setupSimpleRange:function(){},setupRangeSlider:function(e){var n,r=this,o=function(e,t){var n=r.container.find("input").data("unit");e.textContent=t+(i.isEmpty(r.container.find("input").data("unit"))?"":n)};t(r.container).find("input").rangeslider({polyfill:!1,rangeClass:"rangeslider",disabledClass:"rangeslider--disabled",horizontalClass:"rangeslider--horizontal",verticalClass:"rangeslider--vertical",fillClass:"rangeslider__fill",handleClass:"rangeslider__handle",onInit:function(){n=t(".rangeslider__handle",this.$range),t(".rangeslider__handle",this.$range),o(n[0],this.value)},onSlide:function(e,t){o(n[0],t)}})},setupHAlignement:function(e){var i=this,n=t(".sek-h-align-wrapper",i.container);n.find('div[data-sek-align="'+i()+'"]').addClass("selected"),n.on("click","[data-sek-align]",function(e){e.preventDefault(),n.find(".selected").removeClass("selected"),t.when(t(this).addClass("selected")).done(function(){i(t(this).data("sek-align"))})})}})}(wp.customize,jQuery,_);var CZRInputMths=CZRInputMths||{};!function(e,t,i){t.extend(CZRInputMths,{setupImageUploaderSaveAsId:function(){this.setupImageUploader()},setupImageUploaderSaveAsUrl:function(){this.setupImageUploader({save_as_url:!0})},setupImageUploader:function(n){var r=this,o=r();if(n=i.extend({save_as_url:!1},n||{}),r.save_as_url=n.save_as_url,r.attachment={},!r.container)return this;r.tmplRendered=t.Deferred(),r.setupContentRendering(o,{}),r.tmplRendered.done(function(){r.czrImgUploaderBinding()}).fail(function(){e.errorLog("setupImageUploader => failed to fetch the template.")})},setupContentRendering:function(t,n){var r,o=this;o.attachment.id!=t&&n!==t?(i.isEmpty(t)?(o.attachment={},o.renderImageUploaderTemplate()):i.isNumber(t)||o.renderImageUploaderTemplate({fromUrl:!0,url:t}),r=wp.media.attachment(t),i.isObject(r)&&i.has(r,"attributes")&&i.has(r.attributes,"sizes")?(o.attachment=r.attributes,o.renderImageUploaderTemplate()):i.isNumber(t)&&wp.media.attachment(t).fetch().done(function(){o.attachment=this.attributes,o.renderImageUploaderTemplate()}).fail(function(){e.errorLog("renderImageUploaderTemplate => failed attempt to fetch an img with id : "+t)})):o.attachment.id&&o.attachment.id!==t||o.renderImageUploaderTemplate()},czrImgUploaderBinding:function(){var e=this;i.bindAll(e,"czrImgUploadRemoveFile","czrImgUploadOpenFrame","czrImgUploadSelect"),e.container.on("click keydown",".upload-button",e.czrImgUploadOpenFrame),e.container.on("click keydown",".thumbnail-image img",e.czrImgUploadOpenFrame),e.container.on("click keydown",".remove-button",e.czrImgUploadRemoveFile),e.bind(e.id+":changed",function(i,n){e.tmplRendered=t.Deferred(),e.setupContentRendering(i,n)})},czrImgUploadOpenFrame:function(t){!e.utils.isKeydownButNotEnterEvent(t)&&(t.preventDefault(),this.frame||this.czrImgUploadInitFrame(),this.frame.open())},czrImgUploadInitFrame:function(){var e=this,t=this.getUploaderLabels();e.frame=wp.media({button:{text:t.frame_button},states:[new wp.media.controller.Library({title:t.frame_title,library:wp.media.query({type:"image"}),multiple:!1,date:!1})]}),e.frame.on("select",e.czrImgUploadSelect)},czrImgUploadRemoveFile:function(t){var i=this;!e.utils.isKeydownButNotEnterEvent(t)&&(t.preventDefault(),i.attachment={},i.set(""))},czrImgUploadSelect:function(){var e=this,t=e.frame.state().get("selection").first().toJSON();window._wpmejsSettings,e.attachment=t,e.set(e.save_as_url?t.url:t.id)},renderImageUploaderTemplate:function(n){var r=this;n=i.extend({fromUrl:!1,url:""},n||{});var o=r.container.find("."+r.module.control.css_attr.img_upload_container);if(o.length&&!(1>r.container.length)){var s={button_labels:r.getUploaderLabels(),settings:r.id,attachment:r.attachment,fromUrl:n.url,canUpload:!0};return t("#tmpl-czr-img-uploader").length>0?(o.html(wp.template("czr-img-uploader")(s)),r.tmplRendered.resolve(),r.container.trigger(r.id+":content_rendered")):e.CZR_Helpers.getModuleTmpl({tmpl:"img-uploader",module_type:"all_modules",module_id:r.module.id}).done(function(t){o.html(e.CZR_Helpers.parseTemplate(t)(s)),r.tmplRendered.resolve(),r.container.trigger(r.id+":content_rendered")}).fail(function(e){r.tmplRendered.reject("renderImageUploaderTemplate => Problem when fetching the tmpl from server for module : "+r.module.id)}),!0}},getUploaderLabels:function(){var t=serverControlParams.i18n,n=this,r={select:t.select_image,change:t.change_image,remove:t.remove_image,default:t.default_image,placeholder:t.placeholder_image,frame_title:t.frame_title_image,frame_button:t.frame_button_image},o={};return i.each(r,function(t,r){if(i.isEmpty(t)){e.errorLog("A translated string is missing ( "+r+" ) for the image uploader input in module : "+n.module.id),o[r]=r;return}o[r]=t}),o}})}(wp.customize,jQuery,_);var CZRInputMths=CZRInputMths||{};!function(e,t,i){t.extend(CZRInputMths,{setupContentPicker:function(n){var r=this;t.extend(i.isObject(n)?n:{},{post:"",taxonomy:""}),r.wpObjectTypes=n,r.container.find(".czr-input").append('<select data-select-type="content-picker-select" class="js-example-basic-simple"></select>'),r.input_event_map=[{trigger:"change",selector:"select[data-select-type]",name:"set_input_value",actions:function(n){var o=t(n.dom_event.currentTarget,n.dom_el),s=t(o,n.dom_el).czrSelect2("data"),a={};if(s=i.isArray(s)?s[0]:s,!i.isObject(s)||i.isEmpty(s)){e.errare("Content Picker Input : the picked value should be an object not empty.");return}i.each({id:"",type_label:"",title:"",object_type:"",url:""},function(t,n){if("_custom_"!==s.id&&(!i.has(s,n)||i.isEmpty(s[n]))){e.errare("content_picker : missing input param : "+n);return}a[n]=s[n]}),r.set(a)}}],r.isReady.done(function(){r.setupContentSelecter()})},setupContentSelecter:function(){var n=this;if(!i.isEmpty(n())){var r={value:n().id||"",title:n().title||"",selected:"selected"};n.container.find("select").append(t("<option>",r))}n.currentAjaxAction=n.currentAjaxAction||new e.Value,n.currentAjaxAction.bind(function(e){n.defaultValueHasBeenPushed=!1}),n.container.find("select").on("czrSelect2:select czrSelect2:unselect czrSelect2:close czrSelect2:open",function(e){n.defaultValueHasBeenPushed=!1}),n.container.find("select").czrSelect2({placeholder:{id:"-1",title:"Select"},data:n.setupSelectedContents(),ajax:{url:wp.ajax.settings.url,type:"POST",dataType:"json",delay:250,debug:!0,data:function(t){var i=t.page?t.page:0;return i=t.term?t.page:i,n.currentAjaxAction(t.term?"search-available-content-items-customizer":"load-available-content-items-customizer"),{action:n.currentAjaxAction(),search:t.term,wp_customize:"on",page:i,wp_object_types:JSON.stringify(n.wpObjectTypes),nonce:e.settings.nonce.save}},processResults:function(t,r){var o={defaultOption:{id:"",title:"",type_label:"",object_type:"",url:""}};if(n.input_parent&&n.input_parent.module?n.input_parent.module.trigger("set_default_content_picker_options",{defaultContentPickerOption:o}):e.infoLog(' content_picker input => ::processResults => event "set_default_content_picker_option" not triggered when in pre-item'),!t.success)return e.errare("request failure in setupContentPicker => processResults",t),{results:o.defaultOption};var s=t.data.items,a=[];return s=i.isArray(s)?s:[],n.defaultValueHasBeenPushed=n.defaultValueHasBeenPushed||!1,"load-available-content-items-customizer"!==n.currentAjaxAction()||i.isEmpty(o.defaultOption)||!o.defaultOption.id||n.defaultValueHasBeenPushed||(a.push(o.defaultOption),n.defaultValueHasBeenPushed=!0),i.each(s,function(e){a.push({id:e.id,title:e.title,type_label:e.type_label,object_type:e.object,url:e.url})}),{results:a,pagination:{more:s.length>=1}}}},templateSelection:n.czrFormatContentSelected,templateResult:n.czrFormatContentSelected,escapeMarkup:function(e){return e}})},czrFormatContentSelected:function(e){if(e.loading)return e.text;var t="<div class='content-picker-item'><div class='content-item-bar'><span class='czr-picker-item-title'>"+e.title+"</span>";return e.type_label&&(t+="<span class='czr-picker-item-type'>"+e.type_label+"</span>"),t+="</div></div>"},setupSelectedContents:function(){return this()}})}(wp.customize,jQuery,_);var CZRItemMths=CZRItemMths||{};!function(e,t,i){t.extend(CZRItemMths,{initialize:function(n,r){if(i.isUndefined(r.module)||i.isEmpty(r.module))throw Error("No module assigned to item "+n+". Aborting");var o=this;e.Value.prototype.initialize.call(o,null,r),o.isReady=t.Deferred(),o.embedded=t.Deferred(),o.container=null,o.contentContainer=null,o.czr_Input=new e.Values,o.inputCollection=new e.Value({}),o.viewState=new e.Value("closed"),o.removeDialogVisible=new e.Value(!1),t.extend(o,r||{}),o.defaultItemModel=i.clone(r.defaultItemModel)||{id:"",title:""};var s=t.extend(o.defaultItemModel,r.initial_item_model);s=o.validateItemModelOnInitialize(s),o.set(s),o.userEventMap=new e.Value([{trigger:"click keydown",selector:["."+o.module.control.css_attr.display_alert_btn,"."+o.module.control.css_attr.cancel_alert_btn].join(","),name:"toggle_remove_alert",actions:["toggleRemoveAlert"]},{trigger:"click keydown",selector:"."+o.module.control.css_attr.remove_view_btn,name:"remove_item",actions:["removeItem"]},{trigger:"click keydown",selector:["."+o.module.control.css_attr.edit_view_btn,"."+o.module.control.css_attr.item_title].join(","),name:"edit_view",actions:["setViewVisibility"]},{trigger:"click keydown",selector:".czr-clone-item",name:"clone_view",actions:function(i){i=i||{};var n=t.extend({},!0,o());n.id="",this.module.addItem(i,n).done(function(){window.sektionsLocalizedData&&e.czr_skopeBase&&e.previewer.trigger("sek-refresh-stylesheet",{local_skope_id:e.czr_skopeBase.getSkopeProperty("skope_id"),location_skope_id:sektionsLocalizedData.globalSkopeId})})}},{trigger:"click keydown",selector:".tabs nav li",name:"tab_nav",actions:function(e){var i=t(e.dom_event.currentTarget,e.dom_el).data("tab-id");this.module.toggleTabVisibility.call(this,i),this.trigger("tab-switch",{id:i})}}]),o.isReady.done(function(){o.module.updateItemsCollection({item:o()}),o.callbacks.add(function(){return o.itemReact.apply(o,arguments)}),o.bind("contentRendered",function(){if(i.isEmpty(o.inputCollection())){if(serverControlParams.isDevMode)e.CZR_Helpers.setupInputCollectionFromDOM.call(o),o.module.setupTabNav.call(o);else try{e.CZR_Helpers.setupInputCollectionFromDOM.call(o),o.module.setupTabNav.call(o)}catch(t){e.errorLog("In item.isReady.done : "+t)}}}),o.bind("contentRemoved",function(){i.has(o,"czr_Input")&&e.CZR_Helpers.removeInputCollection.call(o)}),o.canBeRendered()&&o.mayBeRenderItemWrapper(),o.embedded.done(function(){o.itemWrapperViewSetup(s)})})},ready:function(){e.trigger("czr_module_item_is_ready",{module_type:this.module.module_type,item:this}),this.isReady.resolve()},canBeRendered:function(){return!0},validateItemModelOnInitialize:function(e){return e},itemReact:function(e,t,i){var n,r=this;i=i||{},r.module.updateItemsCollection({item:e,params:i}).done(function(){r.writeItemViewTitle(e,i)})}})}(wp.customize,jQuery,_);var CZRItemMths=CZRItemMths||{};!function(e,t,i){t.extend(CZRItemMths,{_sendItem:function(t,n){var r=this,o=r.module,s=[];i.each(n,function(e,i){e!=t[i]&&s.push(i)}),i.each(s,function(i){e.previewer.send("sub_setting",{set_id:o.control.id,id:t.id,changed_prop:i,value:t[i]}),o.trigger("item_sent",{item:t,dom_el:r.container,changed_prop:i})})},toggleRemoveAlert:function(){var e=this.removeDialogVisible();this.module.closeRemoveDialogs(),this.removeDialogVisible(!e)},removeItem:function(n){n=n||{};var r=this.module,o=i.clone(r.itemCollection());r.trigger("pre_item_dom_remove",this()),this._destroyView(),o=i.without(o,i.findWhere(o,{id:this.id})),r.itemCollection.set(o),r.trigger("pre_item_api_remove",this());var s=t.extend(!0,{},this());if(r.czr_Item.remove(this.id),"postMessage"==e(r.control.id).transport&&i.has(n,"dom_event")&&!i.has(n.dom_event,"isTrigger")&&!e.CZR_Helpers.hasPartRefresh(r.control.id)){var a=function(){e.previewer.unbind("ready",a),r.trigger("item-removed",s)};e.previewer.bind("ready",a),e.previewer.refresh()}else r.trigger("item-removed",s),r.control.trigger("item-removed",s)},getModel:function(e){return this()}})}(wp.customize,jQuery,_);var CZRItemMths=CZRItemMths||{};!function(e,t,i){t.extend(CZRItemMths,{mayBeRenderItemWrapper:function(){var e=this;"pending"==e.embedded.state()&&(i.isEmpty(e.container)||!(e.container.length>0))&&t.when(e.renderItemWrapper()).done(function(t){if(e.container=t,i.isUndefined(e.container)||!e.container.length)throw Error("In mayBeRenderItemWrapper the Item view has not been rendered : "+e.id);e.embedded.resolve()})},renderItemWrapper:function(n){var r,o,s=this.module,a=t.Deferred(),l=t.extend(!0,{},n||this()),c=function(e){s.isMultiItem()&&(i.isEmpty(e)&&a.reject("renderItemWrapper => Missing html template for module : "+s.id),o.append(e)),o.append(t("<div/>",{class:s.control.css_attr.item_content})),a.resolve(o)};if(this.trigger("item-model-before-item-wrapper-template-injection",l),o=t("<li>",{class:s.control.css_attr.single_item,"data-id":l.id,id:l.id}),//!!note : => there could be additional sub view wrapper inside !!
s.itemsWrapper.append(o),s.isMultiItem()){if(i.isEmpty(s.rudItemPart)){var d={tmpl:"rud-item-part",module_type:"all_modules",module_id:s.id,control_id:s.control.id};this.trigger("item-wrapper-tmpl-params-before-fetching",d),i.isEmpty(s[d.tmpl])?e.CZR_Helpers.getModuleTmpl(d).done(function(i){c(e.CZR_Helpers.parseTemplate(i)(t.extend(l,{is_sortable:s.sortable})))}).fail(function(e){a.reject("renderItemWrapper => Problem when fetching the rud-item-part tmpl from server for module : "+s.id)}):(1>t("#tmpl-"+(r=s.getTemplateSelectorPart(d.tmpl,l))).length&&a.reject("Missing template for item "+this.id+". The provided template script has no been found : #tmpl-"+r),c(wp.template(r)(l)))}else{1>t("#tmpl-"+(r=s.getTemplateSelectorPart("rudItemPart",l))).length&&a.reject("Missing template for item "+this.id+". The provided template script has no been found : #tmpl-"+r);var u=e.czrModuleMap[s.module_type]&&e.czrModuleMap[s.module_type].items_are_clonable;c(wp.template(r)(t.extend(l,{is_sortable:s.sortable,items_are_clonable:u})))}}else c();return a.promise()},itemWrapperViewSetup:function(n){var r=this,o=this.module;item_model=r()||r.initial_item_model,r.writeItemViewTitle();var s=function(e,t,n){if(i.isUndefined(e)||!1===e.length)throw Error("Module : "+r.module.id+", the item content has not been rendered for "+r.id);r.contentContainer=e,r.trigger("contentRendered",{item_content:e}),r.toggleItemExpansion(t,r.module.isMultiItem()?150:0),r.cleanLoader()};r.module.isMultiItem()?r.viewState.callbacks.add(function(n,a){var l=-1!==n.indexOf("expanded");o.hasModOpt()&&l&&e.czr_ModOptVisible(!1,{module:o,focus:!1}),l?i.isObject(r.contentContainer)&&!1!==r.contentContainer.length?r.toggleItemExpansion(n):(r.printLoader(),r.renderItemContent(r()||r.initial_item_model).done(function(e){s(e,n,a)}).fail(function(t){e.errorLog("multi-item module => failed item.renderItemContent for module : "+o.id,t)})):r.toggleItemExpansion(n).done(function(){i.isObject(r.contentContainer)&&!1!==r.contentContainer.length&&(r.trigger("beforeContenRemoved"),t("."+o.control.css_attr.item_content,r.container).children().each(function(){t(this).remove()}),t("."+o.control.css_attr.item_content,r.container).html(""),r.contentContainer=null,r.trigger("contentRemoved"))})}):(r.viewState.callbacks.add(function(e,t){r.toggleItemExpansion.apply(r,[e,0])}),r.printLoader(),r.renderItemContent(item_model).done(function(e){s(e,!0)}).fail(function(t){e.errare("mono-item module => failed item.renderItemContent for module : "+o.id,t)})),e.CZR_Helpers.setupDOMListeners(r.userEventMap(),{model:item_model,dom_el:r.container},r),r.removeDialogVisible.bind(function(n){var o=r.module,s=t("."+o.control.css_attr.remove_alert_wrapper,r.container).first();if(n&&o.closeAllItems(),n&&o.hasModOpt()&&e.czr_ModOptVisible(!1,{module:o,focus:!1}),n&&i.has(o,"preItem")&&o.preItemExpanded(!1),t("."+o.control.css_attr.remove_alert_wrapper,r.container).not(s).each(function(){t(this).hasClass("open")&&t(this).slideToggle({duration:200,done:function(){t(this).toggleClass("open",!1),t(this).siblings().find("."+o.control.css_attr.display_alert_btn).toggleClass("active",!1)}})}),n){if(i.isEmpty(o.alertPart))e.CZR_Helpers.getModuleTmpl({tmpl:"rud-item-alert-part",module_type:"all_modules",module_id:o.id,control_id:o.control.id}).done(function(t){s.html(e.CZR_Helpers.parseTemplate(t)({title:r().title||r.id})),r.trigger("remove-dialog-rendered")}).fail(function(t){e.errare("item.removeDialogVisible => Problem when fetching the tmpl from server for module : "+o.id,t)});else{if(1>t("#tmpl-"+o.alertPart).length||i.isEmpty(r.container)){e.errare("No removal alert template available for items in module :"+o.id);return}s.html(wp.template(o.alertPart)({title:r().title||r.id})),r.trigger("remove-dialog-rendered")}}var a=function(e){s.toggleClass("open",e),r.container.find("."+o.control.css_attr.display_alert_btn).toggleClass("active",e),e&&o._adjustScrollExpandedBlock(r.container)};n?s.stop(!0,!0).slideDown(200,function(){a(n)}):s.stop(!0,!0).slideUp(200,function(){a(n)})})},renderItemContent:function(n){var r=this,o=this.module,s=t.Deferred(),a=t.extend(!0,{},n||r());r.trigger("item-model-before-item-content-template-injection",a);var l=function(e){i.isEmpty(e)&&s.reject("renderItemContent => Missing html template for module : "+o.id);var n=t("."+o.control.css_attr.item_content,r.container);t(e).appendTo(n),s.resolve(n)};if(!i.isEmpty(o.itemInputList)||i.isFunction(o.itemInputList)){var c=o.getTemplateSelectorPart("itemInputList",a);1>t("#tmpl-"+c).length?s.reject("renderItemContent => No itemInputList content template defined for module "+o.id+". The template script id should be : #tmpl-"+c):l(wp.template(c)(t.extend(a,{control_id:o.control.id})))}else{var d={tmpl:"item-inputs",module_type:o.module_type,module_id:o.id,control_id:o.control.id,item_model:a};o.trigger("filter-request-params-before-fetching-for-item-content-tmpl",d),e.CZR_Helpers.getModuleTmpl(d).done(function(i){l(e.CZR_Helpers.parseTemplate(i)(t.extend(a,{control_id:o.control.id})))}).fail(function(e){s.reject(e)})}return s.promise()},writeItemViewTitle:function(n){var r=this,o=r.module,s=n||r(),a=i.has(s,"title")&&!i.isEmpty(s.title)?e.CZR_Helpers.capitalize(s.title):s.id;a=e.CZR_Helpers.truncate(a,20),t("."+o.control.css_attr.item_title,r.container).text(a),e.CZR_Helpers.doActions("after_writeViewTitle",r.container,s,r)},setViewVisibility:function(e,t){var n=this.module;t?this.viewState.set("expanded_noscroll"):(n.closeAllItems(this.id),i.has(n,"preItem")&&n.preItemExpanded.set(!1),this.viewState.set("expanded"==this._getViewState()?"closed":"expanded"))},_getViewState:function(){return -1==this.viewState().indexOf("expanded")?"closed":"expanded"},toggleItemExpansion:function(e,n){var r="closed"!=e,o=this,s=this.module,a=t("."+s.control.css_attr.item_content,o.container).first(),l=t.Deferred(),c=function(t){o.container.toggleClass("open",t),t&&s.closeRemoveDialogs();var i=a.siblings().find("."+s.control.css_attr.edit_view_btn);i.toggleClass("active",t),t?i.removeClass("fa-pencil-alt").addClass("fa-minus-square").attr("title",serverControlParams.i18n.close):i.removeClass("fa-minus-square").addClass("fa-pencil-alt").attr("title",serverControlParams.i18n.edit),"expanded"==e&&s._adjustScrollExpandedBlock(o.container),l.resolve()};return n=i.isUndefined(n)?150:n,r?a.stop(!0,!0).slideDown(n,function(){c(r)}):a.stop(!0,!0).slideUp(0,function(){c(r)}),l.promise()},_destroyView:function(e){this.container.fadeOut({duration:e||400,done:function(){t(this).remove()}})},printLoader:function(){var i=this;i.container.css({position:"relative"}).append(e.CZR_Helpers.css_loader_html).find(".czr-css-loader").fadeIn("fast"),clearTimeout(t.data(this,"_czr_loader_active_timer_")),t.data(this,"_czr_loader_active_timer_",setTimeout(function(){i.cleanLoader()},5e3))},cleanLoader:function(){this.container.css({"min-height":""}).find(".czr-css-loader").remove()}})}(wp.customize,jQuery,_);var CZRModOptMths=CZRModOptMths||{};!function(e,t,i){t.extend(CZRModOptMths,{initialize:function(n){if(i.isUndefined(n.module)||i.isEmpty(n.module))throw Error("No module assigned to modOpt.");var r=this;e.Value.prototype.initialize.call(r,null,n),r.isReady=t.Deferred(),r.container=null,r.inputCollection=new e.Value({}),t.extend(r,n||{}),r.defaultModOptModel=i.clone(n.defaultModOptModel)||{is_mod_opt:!0};var o=t.extend(r.defaultModOptModel,n.initial_modOpt_model),s=r.module.control;r.set(o),r.isReady.done(function(){t("."+s.css_attr.edit_modopt_icon,s.container).length||t.when(s.container.find(".customize-control-title").first().append(t("<span/>",{class:[s.css_attr.edit_modopt_icon,"fas fa-cog"].join(" "),title:serverControlParams.i18n.Settings}))).done(function(){t("."+s.css_attr.edit_modopt_icon,s.container).fadeIn(400)}),e.CZR_Helpers.setupDOMListeners([{trigger:"click keydown",selector:"."+s.css_attr.edit_modopt_icon,name:"toggle_mod_option",actions:function(){e.czr_ModOptVisible(!e.czr_ModOptVisible(),{module:r.module,focus:!1})}}],{dom_el:s.container},r)})},ready:function(){this.isReady.resolve()}})}(wp.customize,jQuery,_);var CZRModOptMths=CZRModOptMths||{};!function(e,t,i){t.extend(CZRModOptMths,{modOptWrapperViewSetup:function(n){var r=this,o=this.module,s=t.Deferred(),a=function(i){e.CZR_Helpers.setupDOMListeners([{trigger:"click keydown",selector:"."+o.control.css_attr.close_modopt_icon,name:"close_mod_option",actions:function(){e.czr_ModOptVisible(!1,{module:o,focus:!1})}},{trigger:"click keydown",selector:".tabs nav li",name:"tab_nav",actions:function(e){var i=t(e.dom_event.currentTarget,e.dom_el).data("tab-id");this.module.toggleTabVisibility.call(this,i),this.trigger("tab-switch",{id:i})}}],{dom_el:i},r)};return n=r()||r.initial_modOpt_model,r.renderModOptContent(n).done(function(e){if(!i.isEmpty(e)&&0<e.length)a(e),s.resolve(e);else throw Error("Module : "+r.module.id+", the modOpt content has not been rendered")}).fail(function(t){e.errorLog("failed modOpt.renderModOptContent for module : "+o.id,t)}).then(function(){r.module.setupTabNav.call(r)}),s.promise()},renderModOptContent:function(n){var r=this.module,o=t.Deferred();n=n||this();var s=function(n){i.isEmpty(n)&&o.reject("renderModOptContent => Missing html template for module : "+r.id);var s="";try{s=[serverControlParams.i18n["Options for"],r.control.params.label].join(" ")}catch(a){e.errorLog("renderItemContent => Problem with ctrl label => "+a),s=serverControlParams.i18n.Settings}t("#widgets-left").after(t("<div/>",{class:r.control.css_attr.mod_opt_wrapper,html:[['<h2 class="mod-opt-title">',s,"</h2>"].join(""),'<span class="fas fa-times '+r.control.css_attr.close_modopt_icon+'" title="close"></span>'].join("")})),t("."+r.control.css_attr.mod_opt_wrapper).append(n),o.resolve(t("."+r.control.css_attr.mod_opt_wrapper))};if(i.isEmpty(r.itemPreAddEl))e.CZR_Helpers.getModuleTmpl({tmpl:"mod-opt",module_type:r.module_type,module_id:r.id,control_id:r.control.id}).done(function(t){s(e.CZR_Helpers.parseTemplate(t)(n))}).fail(function(e){o.reject("renderPreItemView => Problem when fetching the mod-opt tmpl from server for module : "+r.id)});else{var a=r.getTemplateSelectorPart("modOptInputList",n);1>t("#tmpl-"+a).length&&o.reject("renderModOptContent => No modOpt content template defined for module "+r.id+". The template script id should be : #tmpl-"+a),s(wp.template(a)(n))}return o.promise()},toggleModPanelView:function(e){var n=this.module,r=(n.control,t.Deferred());return n.control.container.toggleClass("czr-modopt-visible",e),t("body").toggleClass("czr-editing-modopt",e),i.delay(function(){r.resolve()},200),r.promise()}})}(wp.customize,jQuery,_);var CZRModuleMths=CZRModuleMths||{};!function(e,t,i){t.extend(CZRModuleMths,{initialize:function(n,r){if(i.isUndefined(r.control)||i.isEmpty(r.control))throw Error("No control assigned to module "+n);var o=this;e.Value.prototype.initialize.call(this,null,r),o.isReady=t.Deferred(),t.extend(o,r||{}),t.extend(o,{crudModulePart:o.crudModulePart||"",rudItemPart:o.rudItemPart||"",ruItemPart:o.ruItemPart||"",alertPart:o.alertPart||"",itemInputList:o.itemInputList||"",modOptInputList:o.modOptInputList||""}),o.embedded=t.Deferred(),o.itemsWrapper="",o.container=t(o.control.selector),o.renderModuleParts().done(function(e){if(!1===e.length)throw Error("The items wrapper has not been rendered for module : "+o.id);o.itemsWrapper=e,o.embedded.resolve()}).fail(function(e){throw Error(["initialize module => failed module.renderModuleParts() for module : ",o.id,e].join(" "))}),o.defaultAPImodOptModel={initial_modOpt_model:{},defaultModOptModel:{},control:{},module:{}},o.defaultModOptModel={},o.modOptConstructor=o.modOptConstructor||e.CZRModOpt,o.itemCollection=new e.Value([]),o.defaultAPIitemModel={id:"",initial_item_model:{},defaultItemModel:{},control:{},module:{},is_added_by_user:!1},o.defaultItemModel=e.czrModuleMap[o.module_type].defaultItemModel||{id:"",title:""},o.itemConstructor=o.itemConstructor||e.CZRItem,o.czr_Item=new e.Values,o.inputConstructor=o.inputConstructor||e.CZRInput,o.hasModOpt()&&(o.inputModOptConstructor=o.inputModOptConstructor||e.CZRInput),o.inputOptions={},o.isReady.done(function(){o.isDirty=new e.Value(r.dirty||!1),o.initializeModuleModel(r).done(function(e){o.set(e)}).fail(function(t){e.errare("Module : "+o.id+" initialize module model failed : ",t)}).always(function(e){o.callbacks.add(function(){return o.moduleReact.apply(o,arguments)}),o.control.isModuleRegistered(o.id)||o.control.updateModulesCollection({module:r,is_registered:!1}),o.bind("items-collection-populated",function(e){o.itemCollection.callbacks.add(function(){return o.itemCollectionReact.apply(o,arguments)}),!1!==o.sortable&&o._makeItemsSortable(),o.control.container.trigger("items-collection-populated")}),o.populateSavedItemCollection(),o.hasModOpt()&&o.instantiateModOpt()})}),!0===e.czrModuleMap[o.module_type].ready_on_section_expanded&&(i.has(e,"czr_activeSectionId")&&o.control.section()==e.czr_activeSectionId()&&"resolved"!=o.isReady.state()&&o.embedded.then(function(){o.ready()}),e.section(o.control.section(),function(e){e.expanded.bind(function(e){"resolved"!=o.isReady.state()&&o.embedded.then(function(){o.ready()})})}));var s=e.czrModuleMap[o.module_type].ready_on_control_event;i.isUndefined(s)||e.control(o.control.id,function(e){e.container.on(s,function(e){"resolved"!=o.isReady.state()&&o.embedded.then(function(){o.ready()})}),e.container.data("module_ready_on_custom_control_event_is_setup",!0),e.container.trigger("module_ready_on_custom_control_event_is_setup")}),this.maybeAwakeAndBindSharedModOpt()},ready:function(){this.isReady.resolve()},initializeModuleModel:function(e){var n=t.Deferred();if(!this.isMultiItem()&&!this.isCrud()&&i.isEmpty(e.items)){var r=i.clone(this.defaultItemModel);e.items=[t.extend(r,{id:this.id})]}return n.resolve(e).promise()},itemCollectionReact:function(e,i,n){var r=this(),o=t.extend(!0,{},r);o.items=e,this.isDirty.set(!0),this.set(o,n||{})},filterItemsBeforeCoreApiSettingValue:function(e){return e},moduleReact:function(e,n,r){var o=this.control;i.size(n.items)!=i.size(e.items)||i.isEmpty(i.difference(e.items,n.items)),e.column_id,n.column_id,o.updateModulesCollection({module:t.extend(!0,{},e),data:r})},getModuleSection:function(){return this.section},isMultiItem:function(){return e.CZR_Helpers.isMultiItemModule(null,this)},isCrud:function(){return e.CZR_Helpers.isCrudModule(null,this)},hasModOpt:function(){return e.CZR_Helpers.hasModuleModOpt(null,this)},instantiateModOpt:function(){var e=this,i=e.prepareModOptForAPI(e().modOpt||{});e.czr_ModOpt=new e.modOptConstructor(i),e.czr_ModOpt.ready(),e.czr_ModOpt.callbacks.add(function(i,n,r){var o=e(),s=t.extend(!0,{},o);s.modOpt=i,e.isDirty(!0),e(s,r)})},prepareModOptForAPI:function(e){var t=this,n={};return e=i.isObject(e)?e:{},i.each(t.defaultAPImodOptModel,function(r,o){switch(e[o],o){case"initial_modOpt_model":i.each(t.getDefaultModOptModel(),function(t,n){i.has(e,n)||(e[n]=t)}),n[o]=e;break;case"defaultModOptModel":n[o]=i.clone(t.defaultModOptModel);break;case"control":n[o]=t.control;break;case"module":n[o]=t}}),n},getDefaultModOptModel:function(e){return t.extend(i.clone(this.defaultModOptModel),{is_mod_opt:!0})},sendInputToPreview:function(n){n=i.extend({input_id:"",input_parent_id:"",to:null,from:null},n),i.isEqual(n.to,n.from)||(e.previewer.send("czr_input",{set_id:e.CZR_Helpers.getControlSettingId(this.control.id),module_id:this.id,module:{items:t.extend(!0,{},this().items),modOpt:this.hasModOpt()?t.extend(!0,{},this().modOpt):{}},input_parent_id:n.input_parent_id,input_id:n.input_id,value:n.to,isPartialRefresh:n.isPartialRefresh}),this.trigger("input_sent",{input:n.to,dom_el:this.container}))},sendModuleInputsToPreview:function(e){var n=this,r=function(){var r=this,o=t.extend(!0,{},r());o=i.omit(o,"id"),i.each(o,function(t,i){n.sendInputToPreview({input_id:i,input_parent_id:r.id,to:t,from:null,isPartialRefresh:e.isPartialRefresh})})};n.czr_Item.each(function(e){r.call(e)}),n.hasModOpt()&&r.call(n.czr_ModOpt)},maybeAwakeAndBindSharedModOpt:function(){i.isUndefined(e.czr_ModOptVisible)&&(e.czr_ModOptVisible=new e.Value(!1),e.czr_ModOptVisible.bind(function(n,r,o){if(o=o||{},!i.isFunction(o.module)||!i.isFunction(o.module.czr_ModOpt)){e.errare("moduleCtor::maybeAwakeAndBindSharedModOpt => api.czr_ModOptVisible.bind() => incorrect arguments",o);return}var s=o.module.czr_ModOpt,a=o.module;n?(a.closeRemoveDialogs().closeAllItems(),s.modOptWrapperViewSetup(s()).done(function(t){s.container=t;try{e.CZR_Helpers.setupInputCollectionFromDOM.call(s).toggleModPanelView(n)}catch(r){e.consoleLog(r)}a&&o.focus&&i.delay(function(){!i.isNull(s.container)&&s.container.find('[data-tab-id="'+o.focus+'"] a').length&&s.container.find('[data-tab-id="'+o.focus+'"] a').trigger("click")},200)})):s.toggleModPanelView(n).done(function(){s.container&&0<s.container.length?t.when(s.container.remove()).done(function(){e.CZR_Helpers.removeInputCollection.call(s)}):e.CZR_Helpers.removeInputCollection.call(s),s.container=null})}))}})}(wp.customize,jQuery,_);var CZRModuleMths=CZRModuleMths||{};!function(e,t,i){t.extend(CZRModuleMths,{populateSavedItemCollection:function(n){var r,o=this;if(!i.isArray(n||o().items)){e.errorLog("populateSavedItemCollection : The saved items collection must be an array in module :"+o.id);return}r=t.extend(!0,[],n||o().items),i.each(r,function(e,t){if(i.has(e,"is_mod_opt"))throw Error("populateSavedItemCollection => there should be no mod opt to instantiate here.")}),o.trigger("filterItemCandidatesBeforeInstantiation",r),i.each(r,function(t,n){var r=function(){var n=o.instantiateItem(t);i.isFunction(n)?n.ready():e.errare("populateSavedItemCollection => Could not instantiate item in module "+o.id,t)};if(serverControlParams.isDevMode)r();else try{r()}catch(s){e.errare("populateSavedItemCollection => "+s)}}),i.each(r,function(e){if(i.isObject(e)&&i.isUndefined(i.findWhere(o.itemCollection(),e.id)))throw Error("populateSavedItemCollection => The saved items have not been properly populated in module : "+o.id)}),o.trigger("items-collection-populated")},instantiateItem:function(t,n){if(t=i.isObject(t)?t:{},!(t=this.validateItemBeforeAddition(t,n))||i.isNull(t)){e.errare("CZRModule::instantiateItem() => item_candidate did not pass validation in module "+this.id);return}if(t=this.prepareItemForAPI(t),!i.isObject(t)){e.errare("CZRModule::instantiateItem() => an item should be described by an object in module type : "+this.module_type,"module id : "+this.id);return}if(!t||i.isNull(t)){e.errare("CZRModule::instantiateItem() => item_candidate invalid in module "+this.id);return}if(!i.has(t,"id"))throw Error("CZRModule::instantiateItem() => an item has no id and could not be added in the collection of : "+this.id);if(this.czr_Item.has(t.id))throw Error("CZRModule::instantiateItem() => the following item id "+t.id+" already exists in module.czr_Item() for module "+this.id);if(this.czr_Item.add(t.id,new this.itemConstructor(t.id,t)),!this.czr_Item.has(t.id))throw Error("CZRModule::instantiateItem() => instantiation failed for item id "+t.id+" for module "+this.id);return this.czr_Item(t.id)},validateItemBeforeAddition:function(e,t){return e},prepareItemForAPI:function(e){var t=this,n={};return e=i.isObject(e)?e:{},i.each(t.defaultAPIitemModel,function(r,o){var s=e[o];switch(o){case"id":i.isEmpty(s)?n[o]=t.generateItemId(t.module_type):t.isItemRegistered(s)?t.generateItemId(s):n[o]=s;break;case"initial_item_model":i.each(t.getDefaultItemModel(),function(t,n){i.has(e,n)||(e[n]=t)}),n[o]=e;break;case"defaultItemModel":n[o]=i.clone(t.defaultItemModel);break;case"control":n[o]=t.control;break;case"module":n[o]=t;break;case"is_added_by_user":n[o]=!!i.isBoolean(s)&&s}}),i.has(n,"id")||(n.id=t.generateItemId(t.module_type)),n.initial_item_model.id=n.id,t.validateItemBeforeInstantiation(n)},validateItemBeforeInstantiation:function(e){return e},generateItemId:function(e,t,n){n=n||1;var r=e+"_"+(t=t||this._getNextItemKeyInCollection());if(!i.has(this,"itemCollection")||!i.isArray(this.itemCollection()))throw Error("The item collection does not exist or is not properly set in module : "+this.id);return this.isItemRegistered(r)?(t++,n++,this.generateItemId(e,t,n)):r},_getNextItemKeyInCollection:function(){var e={},t=0;return i.isEmpty(this.itemCollection())||(e=i.isArray(this.itemCollection())&&1===i.size(this.itemCollection())?this.itemCollection()[0]:i.max(this.itemCollection(),function(e){return i.isNumber(e.id.replace(/[^\/\d]/g,""))?parseInt(e.id.replace(/[^\/\d]/g,""),10):0}),!i.isUndefined(e)&&i.isNumber(e.id.replace(/[^\/\d]/g,""))&&(t=parseInt(e.id.replace(/[^\/\d]/g,""),10)+1)),t},isItemRegistered:function(e){return!i.isUndefined(i.findWhere(this.itemCollection(),{id:e}))},updateItemsCollection:function(e){var n=this.itemCollection(),r=i.clone(n),o=t.Deferred();if(i.has(e,"collection")){this.itemCollection.set(e.collection);return}if(!i.has(e,"item"))throw Error("updateItemsCollection, no item provided "+this.control.id+". Aborting");e=i.extend({params:{}},e);var s=i.clone(e.item);return i.each(this.defaultItemModel,function(e,t){if(!i.has(s,t))throw Error('CZRModuleMths => updateItemsCollection : Missing property "'+t+'" for item candidate')}),i.findWhere(r,{id:s.id})?i.each(n,function(e,t){e.id==s.id&&(r[t]=s)}):r.push(s),this.itemCollection.set(r,e.params),o.resolve({collection:r,params:e.params}).promise()},_getSortedDOMItemCollection:function(){var e=i.clone(this.itemCollection()),n=[],r=t.Deferred();if(t("."+this.control.css_attr.single_item,this.container).each(function(r){var o=i.findWhere(e,{id:t(this).attr("data-id")});o&&(n[r]=o)}),e.length!=n.length)throw Error("There was a problem when re-building the item collection from the DOM in module : "+this.id);return r.resolve(n).promise()},refreshItemCollection:function(){var i=this;i.czr_Item.each(function(e){i.czr_Item(e.id).container&&0<i.czr_Item(e.id).container.length&&t.when(i.czr_Item(e.id).container.remove()).done(function(){i.czr_Item.remove(e.id)})}),i.itemCollection=new e.Value([]),i.populateSavedItemCollection()}})}(wp.customize,jQuery,_);var CZRModuleMths=CZRModuleMths||{};!function(e,t,i){t.extend(CZRModuleMths,{getDefaultItemModel:function(e){return t.extend(i.clone(this.defaultItemModel),{id:e||""})},//!!recursive
_initNewItem:function(e,n){var r,o={id:""};return(n=void 0!==n?n:i.size(this.itemCollection()),i.isNumber(n)?r=this.module_type+"_"+n:(r=n,n=0),o=e&&!i.isEmpty(e)?t.extend(e,{id:r}):this.getDefaultItemModel(r),i.has(o,"id")&&this._isItemIdPossible(r))?(i.map(this.getDefaultItemModel(),function(e,t){i.has(o,t)||(o[t]=e)}),o):this._initNewItem(o,n+1)}})}(wp.customize,jQuery,_);var CZRModuleMths=CZRModuleMths||{};!function(e,t,i){t.extend(CZRModuleMths,{renderModuleParts:function(){var n=this,r=t(n.container),o=t.Deferred(),s=function(e){n.isCrud()&&(i.isEmpty(e)&&o.reject("renderModuleParts => Missing html template for module : "+n.id),r.append(e));var s=t("<ul/>",{class:[n.control.css_attr.items_wrapper,n.module_type,n.isMultiItem()?"multi-item-mod":"mono-item-mod",n.isCrud()?"crud-mod":"not-crud-mod"].join(" ")});r.append(s),o.resolve(t(s,r))};return n.isCrud()?i.isEmpty(n.crudModulePart)?e.CZR_Helpers.getModuleTmpl({tmpl:"crud-module-part",module_type:"all_modules",module_id:n.id,control_id:n.control.id}).done(function(t){s(e.CZR_Helpers.parseTemplate(t)({}))}).fail(function(t){e.errare("renderModuleParts => fail response =>",t),o.reject("renderModuleParts => Problem when fetching the crud-module-part tmpl from server for module : "+n.id)}):(1>t("#tmpl-"+n.crudModulePart).length&&o.reject("renderModuleParts => no crud Module Part template for module "+n.id+". The template script id should be : #tmpl-"+n.crudModulePart),s(wp.template(n.crudModulePart)({}))):s(),o.promise()},getTemplateSelectorPart:function(e,t){var n;switch(e){case"rudItemPart":n=this.rudItemPart;break;case"ruItemPart":n=this.ruItemPart;break;case"modOptInputList":n=this.modOptInputList;break;case"itemInputList":n=i.isFunction(this.itemInputList)?this.itemInputList(t):this.itemInputList}if(!i.isEmpty(n))return n;throw Error("No valid template has been found in getTemplateSelectorPart() "+this.id+". Aborting")},getViewEl:function(e){return t('[data-id = "'+e+'"]',this.container)},closeAllItems:function(t){var n=this,r=i.clone(n.itemCollection()),o=i.filter(r,function(e){return e.id!=t});return i.each(o,function(e){n.czr_Item.has(e.id)&&"expanded"==n.czr_Item(e.id)._getViewState(e.id)&&n.czr_Item(e.id).viewState.set("closed")}),e.trigger("czr-all-items-closed",{module_id:n.id}),this},_adjustScrollExpandedBlock:function(e,n){if(!(!e.length||i.isUndefined(this.getModuleSection()))){var r,o=t(".accordion-section-content",this.section.container),s=o.scrollTop(),a=n||90;setTimeout(function(){e.offset().top+e.height()+a>t(window.top).height()&&(r=e.offset().top+e.height()+a-t(window.top).height())>0&&o.animate({scrollTop:s+r},500)},50)}},closeRemoveDialogs:function(){if(i.isArray(this.itemCollection()))return this.czr_Item.each(function(e){e.removeDialogVisible(!1)}),this},_makeItemsSortable:function(n){if(!wp.media.isTouchDevice&&t.fn.sortable){var r=this;t("."+r.control.css_attr.items_wrapper,r.container).sortable({handle:"."+r.control.css_attr.item_sort_handle,start:function(){},update:function(t,n){var o=function(){i.has(r,"preItem")&&r.preItemExpanded.set(!1),r.closeAllItems().closeRemoveDialogs();var t=function(){e.previewer.refresh()};"postMessage"!=e(r.control.id).transport||e.CZR_Helpers.hasPartRefresh(r.control.id)||(t=i.debounce(t,500))(),r.trigger("item-collection-sorted")};r._getSortedDOMItemCollection().done(function(e){r.itemCollection.set(e)}).then(function(){o()})}})}},toggleTabVisibility:function(e){t(this.container).find("li"),t(this.container).find("section"),t(".tabs nav li",this.container).each(function(){t(this).removeClass("tab-current").addClass("tab-inactive")}),t(this.container).find('li[data-tab-id="'+e+'"]').addClass("tab-current").removeClass("tab-inactive"),t("section",this.container).each(function(){t(this).removeClass("content-current")}),t(this.container).find('section[id="'+e+'"]').addClass("content-current")},setupTabNav:function(){var e=this,i=function(){var i=t.Deferred(),n=t(".tabs nav li",e.container);n.each(function(){t(this).removeClass("tab-current").addClass("tab-inactive")}),n.first().addClass("tab-current").removeClass("tab-inactive"),t("section",e.container).first().addClass("content-current");var r=n.length;return n.each(function(){t(this).addClass(r>0?"cols-"+r:"")}),i.resolve().promise()};setTimeout(function(){i().done(function(){t(".tabs",e.container).show()})},20)}})}(wp.customize,jQuery,_);var CZRDynModuleMths=CZRDynModuleMths||{};!function(e,t,i){t.extend(CZRDynModuleMths,{initialize:function(i,n){var r=this;e.CZRModule.prototype.initialize.call(r,i,n),t.extend(r,{itemPreAddEl:""}),r.preItemsWrapper="",r.preItemExpanded=new e.Value(!1),r.itemAddedMessage=serverControlParams.i18n.successMessage;var o=function(t){r.addItem(t).done(function(e){r.czr_Item(e,function(e){e.embedded.then(function(){e.viewState("expanded")})})}).fail(function(t){e.errare("module.addItem failed on add_item",t)})};r.userEventMap=new e.Value([{trigger:"click keydown",selector:["."+r.control.css_attr.open_pre_add_btn,"."+r.control.css_attr.cancel_pre_add_btn].join(","),name:"pre_add_item",actions:["closeAllItems","closeRemoveDialogs",function(e){var t={addTheItem:!0};this.trigger("is-item-addition-possible",t),t.addTheItem&&this.hasPreItem?this.preItemExpanded.set(!this.preItemExpanded()):o(e)},]},{trigger:"click keydown",selector:"."+r.control.css_attr.add_new_btn,name:"add_item",actions:function(e){r.closeRemoveDialogs(e).closeAllItems(e),o(e)}}])},ready:function(){var i=this;i.setupDOMListeners(i.userEventMap(),{dom_el:i.container}),i.preItem=new e.Value(i.getDefaultItemModel()),i.preItemExpanded.callbacks.add(function(n){n?i.renderPreItemView().done(function(e){i.preItemsWrapper=e,i.preItem(i.getDefaultItemModel()),i.trigger("before-pre-item-input-collection-setup"),i.setupPreItemInputCollection()}).fail(function(t){e.errorLog("Pre-Item : "+t)}):t.when(i.preItemsWrapper.remove()).done(function(){i.preItem.czr_Input={},i.preItemsWrapper=null,i.trigger("pre-item-input-collection-destroyed")}),i._togglePreItemViewExpansion(n)}),e.CZRModule.prototype.ready.call(i)},setupPreItemInputCollection:function(){var i=this;i.preItem.czr_Input=new e.Values,t("."+i.control.css_attr.pre_add_wrapper,i.container).find("."+i.control.css_attr.sub_set_wrapper).each(function(e){var n=t(this).find("[data-czrtype]").attr("data-czrtype")||"sub_set_"+e;i.preItem.czr_Input.add(n,new i.inputConstructor(n,{id:n,type:t(this).attr("data-input-type"),container:t(this),input_parent:i.preItem,module:i,is_preItemInput:!0})),i.preItem.czr_Input(n).ready()}),i.trigger("pre-item-input-collection-ready")},getPreItem:function(){return this.preItem()},itemCanBeInstantiated:function(){return!0},addItem:function(n,r){var o=t.Deferred();if(!this.itemCanBeInstantiated())return o.reject().promise();var s=this,a=s.getPreItem(),l=function(){s.preItemExpanded.set(!1)};if(r&&i.has(r,"id")&&(a=r),i.isEmpty(a)||!i.isObject(a))return e.errorLog("addItem : an item_candidate should be an object and not empty. In : "+s.id+". Aborted."),o.reject().promise();l=i.debounce(l,200);var c=function(){var t=s.instantiateItem(a,!0);return i.isFunction(t)?t.ready():e.errare("populateSavedItemCollection => Could not instantiate item in module "+s.id,a),t};if(serverControlParams.isDevMode)c();else try{c()}catch(d){return e.errare("populateSavedItemCollection : "+d),o.reject().promise()}return s.czr_Item.has(a.id)?(t.Deferred(function(){var t=this;s.czr_Item(a.id).isReady.then(function(){l(),s.trigger("item-added",a);var r=function(){e.previewer.unbind("ready",r),t.resolve()};s.refresh_on_add_item&&"postMessage"==e(s.control.id).transport&&i.has(n,"dom_event")&&!i.has(n.dom_event,"isTrigger")&&!e.CZR_Helpers.hasPartRefresh(s.control.id)?(e.previewer.bind("ready",r),e.previewer.refresh()):t.resolve()})}).always(function(){o.resolve(a.id)}),o.promise()):o.reject("populateSavedItemCollection : the item "+a.id+" has not been instantiated in module "+s.id).promise()}})}(wp.customize,jQuery,_);var CZRDynModuleMths=CZRDynModuleMths||{};!function(e,t,i){t.extend(CZRDynModuleMths,{renderPreItemView:function(n){var r=this,o=t.Deferred();if(i.isObject(r.preItemsWrapper)&&0<r.preItemsWrapper.length)return o.resolve(r.preItemsWrapper).promise();var s=function(e){(i.isEmpty(e)||!r.container)&&o.reject("renderPreItemView => Missing html template for module : "+r.id);var n=t("."+r.control.css_attr.pre_add_item_content,r.container);n.prepend(t("<div>",{class:"pre-item-wrapper"})),n.find(".pre-item-wrapper").append(e),o.resolve(n.find(".pre-item-wrapper")).promise()};return i.isEmpty(r.itemPreAddEl)?e.CZR_Helpers.getModuleTmpl({tmpl:"pre-item",module_type:r.module_type,module_id:r.id,control_id:r.control.id}).done(function(t){s(e.CZR_Helpers.parseTemplate(t)())}).fail(function(e){o.reject(["renderPreItemView for module : ",r.id,e].join(" "))}):(1>t("#tmpl-"+r.itemPreAddEl).length&&o.reject("renderPreItemView => Missing itemPreAddEl or template in module "+r.id),s(wp.template(r.itemPreAddEl)())),o.promise()},_getPreItemView:function(){return t("."+this.control.css_attr.pre_add_item_content,this.container)},_togglePreItemViewExpansion:function(e){var i=this;t("."+i.control.css_attr.pre_add_item_content,i.container).slideToggle({duration:200,done:function(){var n=t("."+i.control.css_attr.open_pre_add_btn,i.container);t(this).toggleClass("open",e),e?n.find(".fas").removeClass("fa-plus-square").addClass("fa-minus-square"):n.find(".fas").removeClass("fa-minus-square").addClass("fa-plus-square"),n.toggleClass("active",e),t(i.container).toggleClass(i.control.css_attr.adding_new,e),i._adjustScrollExpandedBlock(t(this),120)}})},toggleSuccessMessage:function(e){var i=this.itemAddedMessage,n=t("."+this.control.css_attr.pre_add_wrapper,this.container);return $_success_wrapper=t("."+this.control.css_attr.pre_add_success,this.container),"on"==e?($_success_wrapper.find("p").text(i),$_success_wrapper.css("z-index",1000001).css("height",n.height()+"px").css("line-height",n.height()+"px")):$_success_wrapper.attr("style",""),this.container.toggleClass("czr-model-added","on"==e),this}})}(wp.customize,jQuery,_);var CZRBaseControlMths=CZRBaseControlMths||{};!function(e,t,i){t.extend(CZRBaseControlMths,{initialize:function(t,n){var r=this;r.css_attr=i.has(serverControlParams,"css_attr")?serverControlParams.css_attr:{},e.Control.prototype.initialize.call(r,t,n),r.bind("czr-partial-refresh-done",function(){i.has(r,"czr_moduleCollection")&&i.each(r.czr_moduleCollection(),function(e){r.czr_Module(e.id)&&r.czr_Module(e.id).sendModuleInputsToPreview({isPartialRefresh:!0})})})},refreshPreview:function(e){this.previewer.refresh()}})}(wp.customize,jQuery,_);var CZRBaseModuleControlMths=CZRBaseModuleControlMths||{};!function(e,t,i){t.extend(CZRBaseModuleControlMths,{initialize:function(n,r){var o=this;if(!e.has(n))throw Error("Missing a registered setting for control : "+n);o.czr_Module=new e.Values,o.czr_moduleCollection=new e.Value,o.czr_moduleCollection.set([]),o.moduleCollectionReady=t.Deferred(),o.moduleCollectionReady.done(function(e){o.czr_moduleCollection.callbacks.add(function(){return o.moduleCollectionReact.apply(o,arguments)})}),e.CZRBaseControl.prototype.initialize.call(o,n,r),e.section(o.section(),function(e){e.expanded.bind(function(e){o.czr_Module.each(function(e){e.closeAllItems().closeRemoveDialogs(),i.has(e,"preItem")&&e.preItemExpanded(!1)})})})},ready:function(){var t,n=this,r={};try{t=n.getSavedModules()}catch(o){e.errare("api.CZRBaseControl::ready() => error on control.getSavedModules()",o),n.moduleCollectionReady.reject();return}i.each(n.getSavedModules(),function(t,i){if(r=t,serverControlParams.isDevMode)n.instantiateModule(t,{});else try{n.instantiateModule(t,{})}catch(o){e.errare("api.CZRBaseControl::Failed to instantiate module "+t.id,o);return}n.container.attr("data-module",t.id)}),n.moduleCollectionReady.resolve(r)},getDefaultModuleApiModel:function(){return{id:"",module_type:"",modOpt:{},items:[],crud:!1,hasPreItem:!0,refresh_on_add_item:!0,multi_item:!1,sortable:!1,control:{},section:""}},getSavedModules:function(){var n=this,r=[],o=n.params.module_type,s=[],a=[],l={};e.CZR_Helpers.isMultiItemModule(o)||i.isEmpty(e(n.id)())||i.isObject(e(n.id)())||e.errare("api.CZRBaseControl::getSavedModules => module Control Init for "+n.id+"  : a mono item module control value should be an object if not empty.");var c=e.CZR_Helpers.getControlSettingId(n.id),d=e(c)();return s=i.isEmpty(d)?[]:i.isArray(d)?d:[d],i.each(s,function(t,r){if(!i.isObject(t)){e.errare("api.CZRBaseControl::::getSavedModules => an item must be an object in control "+n.id+" => module type => "+n.params.module_type,s);return}i.isEmpty(t)||i.each(t,function(t,r){if(!i.isString(r)){e.errare("api.CZRBaseControl::::getSavedModules => item not well formed in control : "+n.id+" => module type => "+n.params.module_type,s);return}}),e.CZR_Helpers.hasModuleModOpt(o)&&0===r&&(i.has(t,"id")?e.errare("api.CZRBaseControl::getSavedModules : the module "+o+" in control "+n.id+" has no mod_opt defined while it should."):l=t),i.has(t,"is_mod_opt")||a.push(t)}),r.push({id:e.CZR_Helpers.getOptionName(n.id)+"_"+n.params.type,module_type:n.params.module_type,section:n.section(),modOpt:t.extend(!0,{},l),items:t.extend(!0,[],a)}),r},isModuleRegistered:function(e){return!i.isUndefined(i.findWhere(this.czr_moduleCollection(),{id:e}))}})}(wp.customize,jQuery,_);var CZRBaseModuleControlMths=CZRBaseModuleControlMths||{};!function(e,t,i){t.extend(CZRBaseModuleControlMths,{instantiateModule:function(e,t){if(!i.has(e,"id"))throw Error("CZRModule::instantiateModule() : a module has no id and could not be added in the collection of : "+this.id+". Aborted.");if((i.isUndefined(t)||i.isEmpty(t))&&(t=this.getModuleConstructor(e)),!i.isEmpty(e.id)&&this.czr_Module.has(e.id))throw Error("The module id already exists in the collection in control : "+this.id);var n=this.prepareModuleForAPI(e);if(this.czr_Module.add(n.id,new t(n.id,n)),!this.czr_Module.has(n.id))throw Error("instantiateModule() : instantiation failed for module id "+n.id+" in control "+this.id);return this.czr_Module(n.id)},getModuleConstructor:function(t){var n={};if(!i.has(t,"module_type"))throw Error("CZRModule::getModuleConstructor : no module type found for module "+t.id);if(!i.has(e.czrModuleMap,t.module_type))throw Error("Module type "+t.module_type+" is not listed in the module map api.czrModuleMap.");var r=e.czrModuleMap[t.module_type].mthds||{},o=e.czrModuleMap[t.module_type].crud?e.CZRDynModule:e.CZRModule;if(e.trigger("czr_setup_module_contructor",{module_type:t.module_type,methods:r}),n=o.extend(r),i.isUndefined(n)||i.isEmpty(n)||!n)throw Error("CZRModule::getModuleConstructor : no constructor found for module type : "+t.module_type+".");return n},prepareModuleForAPI:function(t){if(!i.isObject(t))throw Error("prepareModuleForAPI : a module must be an object to be instantiated.");var n=this,r={};return i.each(n.getDefaultModuleApiModel(),function(o,s){var a=t[s];switch(s){case"id":i.isEmpty(a)?r[s]=n.generateModuleId(t.module_type):r[s]=a;break;case"module_type":if(!i.isString(a)||i.isEmpty(a))throw Error("prepareModuleForAPI : a module type must a string not empty");r[s]=a;break;case"items":if(!i.isArray(a))throw Error("prepareModuleForAPI : a module item list must be an array");r[s]=a;break;case"modOpt":if(!i.isObject(a))throw Error("prepareModuleForAPI : a module modOpt property must be an object");r[s]=a;break;case"crud":if(i.has(e.czrModuleMap,t.module_type))a=e.czrModuleMap[t.module_type].crud,i.isUndefined(a)&&(a=o);else if(!i.isUndefined(a)&&!i.isBoolean(a))throw Error('prepareModuleForAPI : the module param "crud" must be a boolean');r[s]=a||!1;break;case"hasPreItem":if(i.has(e.czrModuleMap,t.module_type))a=e.czrModuleMap[t.module_type].hasPreItem,i.isUndefined(a)&&(a=o);else if(!i.isUndefined(a)&&!i.isBoolean(a))throw Error('prepareModuleForAPI : the module param "hasPreItem" must be a boolean');r[s]=a||!1;break;case"refresh_on_add_item":if(i.has(e.czrModuleMap,t.module_type))a=e.czrModuleMap[t.module_type].refresh_on_add_item,i.isUndefined(a)&&(a=o);else if(!i.isUndefined(a)&&!i.isBoolean(a))throw Error('prepareModuleForAPI : the module param "refresh_on_add_item" must be a boolean');r[s]=a||!1;break;case"multi_item":if(i.has(e.czrModuleMap,t.module_type))a=e.czrModuleMap[t.module_type].multi_item,i.isUndefined(a)&&(a=e.czrModuleMap[t.module_type].crud);else if(!i.isUndefined(a)&&!i.isBoolean(a))throw Error('prepareModuleForAPI : the module param "multi_item" must be a boolean');r[s]=a||!1;break;case"sortable":if(i.has(e.czrModuleMap,t.module_type))a=e.czrModuleMap[t.module_type].sortable,i.isUndefined(a)&&(a=e.czrModuleMap[t.module_type].crud),i.isUndefined(a)&&(a=e.czrModuleMap[t.module_type].multi_item);else if(!i.isUndefined(a)&&!i.isBoolean(a))throw Error('prepareModuleForAPI : the module param "sortable" must be a boolean');r[s]=a||!1;break;case"control":r[s]=n;break;case"section":if(!i.isString(a)||i.isEmpty(a))throw Error("prepareModuleForAPI : a module section must be a string not empty");r[s]=a;break;case"dirty":r[s]=a||!1}}),r},generateModuleId:function(e,t,n){if((n=n||1)>100)throw Error("Infinite loop when generating of a module id.");var r=e+"_"+(t=t||this._getNextModuleKeyInCollection());if(!i.has(this,"czr_moduleCollection")||!i.isArray(this.czr_moduleCollection()))throw Error("The module collection does not exist or is not properly set in control : "+this.id);return this.isModuleRegistered(r)?(t++,n++,this.generateModuleId(e,t,n)):r},_getNextModuleKeyInCollection:function(){var e={},t=0;return i.isEmpty(this.czr_moduleCollection())||(e=i.max(this.czr_moduleCollection(),function(e){return parseInt(e.id.replace(/[^\/\d]/g,""),10)}),t=parseInt(e.id.replace(/[^\/\d]/g,""),10)+1),t}})}(wp.customize,jQuery,_);var CZRBaseModuleControlMths=CZRBaseModuleControlMths||{};!function(e,t,i){t.extend(CZRBaseModuleControlMths,{updateModulesCollection:function(e){var n=this.czr_moduleCollection(),r=t.extend(!0,[],n);if(i.has(e,"collection")){this.czr_moduleCollection.set(e.collection,e.data||{});return}if(!i.has(e,"module"))throw Error("updateModulesCollection, no module provided "+this.id+". Aborting");var o=this.prepareModuleForAPI(i.clone(e.module));i.findWhere(r,{id:o.id})?i.each(n,function(e,t){e.id==o.id&&(r[t]=o)}):r.push(o);var s={};i.has(e,"data")&&(s=t.extend(!0,{},e.data),t.extend(s,{module:o})),this.czr_moduleCollection.set(r,s)},moduleCollectionReact:function(n,r,o){var s=i.size(n)>i.size(r),a=i.size(r)>i.size(n);if(i.size(r),i.size(n),is_collection_sorted=!1,a){var l=i.filter(r,function(e){return i.isUndefined(i.findWhere(n,{id:e.id}))});l=l[0],this.czr_Module.remove(l.id)}if(i.isObject(o)&&i.has(o,"module")&&(o.module_id=o.module.id,o.moduleRegistrationParams=o.module,o.module=this.prepareModuleForDB(t.extend(!0,{},o.module))),!s){if(serverControlParams.isDevMode)e(this.id).set(this.filterModuleCollectionBeforeAjax(n),o);else try{e(this.id).set(this.filterModuleCollectionBeforeAjax(n),o)}catch(c){e.errare("api.CZRBaseControl::moduleCollectionReact => error when firing control.filterModuleCollectionBeforeAjax( to )",c)}}},filterModuleCollectionBeforeAjax:function(e){var n,r=this,o=t.extend(!0,[],e),s=[];if(i.each(o,function(e,i){var n=t.extend(!0,{},e);s[i]=r.prepareModuleForDB(n)}),i.size(o)>1)throw Error("There should not be several modules in the collection of control : "+r.id);if(!i.isArray(o)||i.isEmpty(o)||!i.has(o[0],"items"))throw Error("The setting value could not be populated in control : "+r.id);var a=o[0].id;if(!r.czr_Module.has(a))throw Error("The single module control ("+r.id+") has no module registered with the id "+a);var l=r.czr_Module(a);if(!i.isArray(l().items))throw Error("The module "+a+" should be an array in control : "+r.id);return n=l.isMultiItem()?l().items:l().items[0]||[],n=l.filterItemsBeforeCoreApiSettingValue(n),l.hasModOpt()?i.union([l().modOpt],n):n},prepareModuleForDB:function(e){if(!i.isObject(e))throw Error("::prepareModuleForDB : a module must be an object.");var t={};if(!i.isArray(e.items))throw Error("::prepareModuleForDB : a module item list must be an array");return i.each(e.items,function(e){if(!i.isObject(e))throw Error("::prepareModuleForDB : a module item must be an object")}),t.items=e.items,t}})}(wp.customize,jQuery,_),function(e,t,i){t.extend(CZRBaseControlMths,e.Events),t.extend(e.Control.prototype,e.Events),t.extend(CZRModuleMths,e.Events),t.extend(CZRItemMths,e.Events),t.extend(CZRModOptMths,e.Events),t.extend(CZRBaseControlMths,e.CZR_Helpers),t.extend(CZRInputMths,e.CZR_Helpers),t.extend(CZRModuleMths,e.CZR_Helpers),e.CZRInput=e.Value.extend(CZRInputMths),e.czrInputMap=e.czrInputMap||{},t.extend(e.czrInputMap,{text:"",textarea:"",check:"setupIcheck",checkbox:"setupIcheck",nimblecheck:"",select:"setupSelect",radio:"setupRadio",number:"setupStepper",upload:"setupImageUploaderSaveAsId",upload_url:"setupImageUploaderSaveAsUrl",color:"setupColorPicker",wp_color_alpha:"setupColorPickerAlpha",wp_color:"setupWPColorPicker",content_picker:"setupContentPicker",password:"",range:"setupSimpleRange",range_slider:"setupRangeSlider",hidden:"",h_alignment:"setupHAlignement",h_text_alignment:"setupHAlignement",inactive:""}),e.CZRItem=e.Value.extend(CZRItemMths),e.CZRModOpt=e.Value.extend(CZRModOptMths),e.CZRModule=e.Value.extend(CZRModuleMths),e.CZRDynModule=e.CZRModule.extend(CZRDynModuleMths),e.CZRBaseControl=e.Control.extend(CZRBaseControlMths),e.CZRBaseModuleControl=e.CZRBaseControl.extend(CZRBaseModuleControlMths),t.extend(e.controlConstructor,{czr_module:e.CZRBaseModuleControl})}(wp.customize,jQuery,_),wp=wp,($=jQuery)(function(e){var t,i=wp.customize||i;!_.contains(["blocksy"],serverControlParams.activeTheme)&&(t=e("<span/>",{class:"customize-controls-home-or-add fas fa-home",html:'<span class="screen-reader-text">Home</span>'}),e.when(e("#customize-header-actions").append(t)).done(function(){e("body").addClass("czr-has-home-btn"),t.keydown(function(e){9!==e.which&&(13===e.which&&this.trigger("click"),e.preventDefault())}).on("click.customize-controls-home-or-add",function(){i.section.has(i.czr_activeSectionId())?i.section(i.czr_activeSectionId()).expanded(!1):i.section.each(function(e){e.expanded(!1)}),i.panel.each(function(e){e.expanded(!1)})}),_.delay(function(){if(!t.hasClass("button-see-me")){var i=0,n=function(){e.Deferred(function(){var e=this;t.addClass("button-see-me"),_.delay(function(){t.removeClass("button-see-me"),e.resolve()},800)}).done(function(){--i>=0&&_.delay(function(){n()},50)})};n()}},2e3)}))});